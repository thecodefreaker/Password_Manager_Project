{"remainingRequest":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/kaliuser/test/vaults/frontend/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/kaliuser/test/vaults/frontend/src/views/Login.vue","mtime":1713871927302},{"path":"/home/kaliuser/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUva2FsaXVzZXIvdGVzdC92YXVsdHMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9rYWxpdXNlci90ZXN0L3ZhdWx0cy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICogYXMgVmVlVmFsaWRhdGUgZnJvbSAndmVlLXZhbGlkYXRlJzsKaW1wb3J0ICogYXMgeXVwIGZyb20gJ3l1cCc7CmltcG9ydCB7IGFwaSB9IGZyb20gIi4uL3NlcnZpY2VzL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIC8vIFJlbmFtZSB0aGUgY29tcG9uZW50cyBmcm9tIFZlZVZhbGlkYXRlIHNvIHRoZXJlIG1heSBiZSBubyBjb25mbGljdHMgd2l0aCBuYXRpdmUgSFRNTCBlbGVtZW50cy4KICAgIFZlZVZhbGlkYXRlRm9ybTogVmVlVmFsaWRhdGUuRm9ybSwKICAgIFZlZVZhbGlkYXRlRmllbGQ6IFZlZVZhbGlkYXRlLkZpZWxkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFja2VuZEVycm9yczogW10KICAgIH07CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICAvKioKICAgICAqIFZhbGlkYXRpb24gcnVsZXMgdXNpbmcgJ3l1cCcuCiAgICAgKi8KICAgIHZhciBzY2hlbWEgPSB5dXAub2JqZWN0KHsKICAgICAgbG9naW5fZW1haWw6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgpLmVtYWlsKCkubGFiZWwoIkUtTWFpbCIpLAogICAgICBsb2dpbl9tYXN0ZXJfcGFzc3dvcmQ6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgpLm1hdGNoZXMoL14oPz0uKltBLVpdKSg/PS4qW2Etel0pKD89LipcZCkoPz0uKlteQS1aYS16MC05XSkuezE2LH0kLywgIlRoZSBwYXNzd29yZCBtdXN0IENvbnRhaW4gYXQgbGVhc3QgMTYgY2hhcmFjdGVycywgb25lIHVwcGVyY2FzZSwgb25lIGxvd2VyY2FzZSwgb25lIG51bWJlciBhbmQgb25lIHNwZWNpYWwgY2FzZSBjaGFyYWN0ZXIuIikubGFiZWwoIk1hc3RlciBQYXNzd29yZCIpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHNjaGVtYTogc2NoZW1hCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSh2YWx1ZXMsIF9yZWYpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc2V0Rm9ybSwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVzZXRGb3JtID0gX3JlZi5yZXNldEZvcm07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuYXV0aGVudGljYXRpb24ubG9naW4odmFsdWVzKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5iYWNrZW5kRXJyb3JzLnB1c2gocmVzcG9uc2UucmVzcG9uc2UuZGF0YS5lcnJvcnMpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXNldEZvcm0oKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm91dGVyLnB1c2goIi92YXVsdHMiKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;AA8BA,OAAO,KAAKA,WAAZ,MAA6B,cAA7B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAAQC,GAAR,QAAkB,iBAAlB;AAEA,eAAe;EACbC,IAAI,EAAE,OADO;EAEbC,UAAU,EAAE;IACV;IACAC,eAAe,EAAEL,WAAW,CAACM,IAFnB;IAGVC,gBAAgB,EAAEP,WAAW,CAACQ;EAHpB,CAFC;EAObC,IAPa,kBAON;IACL,OAAO;MACLC,aAAa,EAAE;IADV,CAAP;EAGD,CAXY;EAYbC,KAZa,mBAYL;IACN;;;IAGA,IAAMC,MAAK,GAAIX,GAAG,CAACY,MAAJ,CAAW;MACxBC,WAAW,EAAEb,GAAG,CAACc,MAAJ,GACRC,QADQ,GAERC,KAFQ,GAGRC,KAHQ,CAGF,QAHE,CADW;MAKxBC,qBAAqB,EAAElB,GAAG,CAACc,MAAJ,GAClBC,QADkB,GAElBI,OAFkB,CAGf,0DAHe,EAIf,4HAJe,EAMlBF,KANkB,CAMZ,iBANY;IALC,CAAX,CAAf;IAcA,OAAO;MACLN,MAAK,EAALA;IADK,CAAP;EAGD,CAjCY;EAkCbS,OAAO,EAAE;IACDC,UADC,sBACUC,MADV,QACiC;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAbC,SAAa,QAAbA,SAAa;gBAAA;gBAAA,OACjBtB,GAAG,CAACuB,cAAJ,CAAmBC,KAAnB,CAAyBH,MAAzB,CADiB;;cAAA;gBAClCI,QADkC;;gBAAA,MAGlCA,QAAO,YAAaC,KAHc;kBAAA;kBAAA;gBAAA;;gBAIpC,KAAI,CAAClB,aAAL,CAAmBmB,IAAnB,CAAwBF,QAAQ,CAACA,QAAT,CAAkBlB,IAAlB,CAAuBqB,MAA/C;;gBAJoC;gBAAA;;cAAA;gBAMpCN,SAAS;gBAN2B;gBAAA,OAQ9B,KAAI,CAACO,OAAL,CAAaF,IAAb,CAAkB,SAAlB,CAR8B;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUxC;EAXO;AAlCI,CAAf","names":["VeeValidate","yup","api","name","components","VeeValidateForm","Form","VeeValidateField","Field","data","backendErrors","setup","schema","object","login_email","string","required","email","label","login_master_password","matches","methods","submitForm","values","resetForm","authentication","login","response","Error","push","errors","$router"],"sourceRoot":"","sources":["/home/kaliuser/test/vaults/frontend/src/views/Login.vue"],"sourcesContent":["<template>\n  <VeeValidateForm :validation-schema=\"schema\"\n                   v-slot=\"{ errors, handleSubmit }\"\n                   as=\"div\"\n                   class=\"login-form form\">\n    <form @submit=\"handleSubmit($event, submitForm)\">\n      <h1>Login</h1>\n      <label>\n        <span>E-Mail</span>\n        <VeeValidateField name=\"login_email\" type=\"email\" />\n        <p class=\"form-error\">{{ errors.login_email }}</p>\n      </label>\n\n      <label>\n        <span>Master Password</span>\n        <VeeValidateField name=\"login_master_password\" type=\"password\" />\n        <p class=\"form-error\">{{ errors.login_password }}</p>\n      </label>\n\n      <button class=\"btn\">Login</button>\n\n      <li class=\"backend-errors\" v-for=\"error in backendErrors\" :key=\"error\">\n        {{ error }}\n      </li>\n    </form>\n  </VeeValidateForm>\n</template>\n\n<script>\n\nimport * as VeeValidate from 'vee-validate';\nimport * as yup from 'yup';\nimport {api} from \"../services/api\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    // Rename the components from VeeValidate so there may be no conflicts with native HTML elements.\n    VeeValidateForm: VeeValidate.Form,\n    VeeValidateField: VeeValidate.Field,\n  },\n  data() {\n    return {\n      backendErrors: [],\n    }\n  },\n  setup() {\n    /**\n     * Validation rules using 'yup'.\n     */\n    const schema = yup.object({\n      login_email: yup.string()\n          .required()\n          .email()\n          .label(\"E-Mail\"),\n      login_master_password: yup.string()\n          .required()\n          .matches(\n              /^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{16,}$/,\n              \"The password must Contain at least 16 characters, one uppercase, one lowercase, one number and one special case character.\"\n          )\n          .label(\"Master Password\"),\n    });\n\n    return {\n      schema\n    };\n  },\n  methods: {\n    async submitForm(values, { resetForm }) {\n      let response = await api.authentication.login(values);\n\n      if (response instanceof Error) {\n        this.backendErrors.push(response.response.data.errors)\n      } else {\n        resetForm();\n\n        await this.$router.push(\"/vaults\");\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}