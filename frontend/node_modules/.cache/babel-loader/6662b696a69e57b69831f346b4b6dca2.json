{"remainingRequest":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/kaliuser/test/vaults/frontend/src/views/Vaults/VaultDashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/kaliuser/test/vaults/frontend/src/views/Vaults/VaultDashboard.vue","mtime":1713871927302},{"path":"/home/kaliuser/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUva2FsaXVzZXIvdGVzdC92YXVsdHMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9rYWxpdXNlci90ZXN0L3ZhdWx0cy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2thbGl1c2VyL3Rlc3QvdmF1bHRzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IHsgYXBpIH0gZnJvbSAiLi4vLi4vc2VydmljZXMvYXBpIjsKaW1wb3J0IHsgU2VjdXJpdHkgfSBmcm9tICIuLi8uLi9wbHVnaW5zL1NlY3VyaXR5IjsKaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IENhdGVnb3JpZXMgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9DYXRlZ29yeS9DYXRlZ29yaWVzIjsKaW1wb3J0IENyZWF0aW9uVHlwZVNlbGVjdG9yIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvSXRlbS9DcmVhdGlvblR5cGVTZWxlY3RvciI7Cgp2YXIgX2NyZWF0ZU5hbWVzcGFjZWRIZWxwID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoInVzZXIiKSwKICAgIG1hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwLm1hcFN0YXRlOwoKdmFyIF9jcmVhdGVOYW1lc3BhY2VkSGVscDIgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiYXBwX3N0YXRlIiksCiAgICBtYXBBY3Rpb25zID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBBY3Rpb25zLAogICAgbWFwR2V0dGVycyA9IF9jcmVhdGVOYW1lc3BhY2VkSGVscDIubWFwR2V0dGVyczsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVmF1bHREYXNoYm9hcmQiLAogIGNvbXBvbmVudHM6IHsKICAgIENhdGVnb3JpZXM6IENhdGVnb3JpZXMsCiAgICBDcmVhdGlvblR5cGVTZWxlY3RvcjogQ3JlYXRpb25UeXBlU2VsZWN0b3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb2xkZXJJZDogIiIsCiAgICAgIGJhY2tlbmRFcnJvcnM6IFtdLAogICAgICBzZWN1cml0eTogbmV3IFNlY3VyaXR5KCkKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsiZ2V0SXRlbVZpZXciXSkpLCBtYXBTdGF0ZSh7CiAgICBpdGVtczogZnVuY3Rpb24gaXRlbXMoc3RhdGUpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzLAogICAgICAgICAgaXRlbXMgPSB7fTsKCiAgICAgIGlmIChzZWxmLmZvbGRlcklkKSB7CiAgICAgICAgaXRlbXMgPSBzdGF0ZS5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmNhdGVnb3J5ID09PSBzZWxmLmZvbGRlcklkOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW1zID0gc3RhdGUuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS52YXVsdF9pZCA9PSBzZWxmLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpdGVtczsKICAgIH0KICB9KSksCiAgYmVmb3JlUm91dGVFbnRlcjogZnVuY3Rpb24gYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2FwcCIpLmNsYXNzTGlzdC5hZGQoImRhc2hib2FyZC12aWV3Iik7CiAgICBuZXh0KCk7CiAgfSwKICBiZWZvcmVSb3V0ZUxlYXZlOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUxlYXZlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYXBwIikuY2xhc3NMaXN0LnJlbW92ZSgiZGFzaGJvYXJkLXZpZXciKTsKICAgIG5leHQoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoVmF1bHRJdGVtcygpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsidHJpZ2dlckJ1cmdlck1lbnUiLCAic2V0SXRlbVZpZXciXSkpLCB7fSwgewogICAgZm9sZGVySXRlbXNIYW5kbGVyOiBmdW5jdGlvbiBmb2xkZXJJdGVtc0hhbmRsZXIoaWQpIHsKICAgICAgdGhpcy5mb2xkZXJJZCA9IGlkOwogICAgICB0aGlzLmZvbGRlckhhbmRsZXIoKTsKICAgIH0sCiAgICBhbGxJdGVtc0hhbmRsZXI6IGZ1bmN0aW9uIGFsbEl0ZW1zSGFuZGxlcigpIHsKICAgICAgdGhpcy5mb2xkZXJJZCA9ICIiOwogICAgICB0aGlzLmZvbGRlckhhbmRsZXIoKTsKICAgIH0sCiAgICBmb2xkZXJIYW5kbGVyOiBmdW5jdGlvbiBmb2xkZXJIYW5kbGVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogInZhdWx0RGFzaGJvYXJkIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnRyaWdnZXJCdXJnZXJNZW51KCk7CiAgICAgIHRoaXMuc2V0SXRlbVZpZXcoZmFsc2UpOwogICAgfSwKCiAgICAvKioKICAgICAqIFJlcXVlc3RzIHRoZSB1c2VyJ3MgZW5jcnlwdGVkIHZhdWx0cy4KICAgICAqLwogICAgZmV0Y2hWYXVsdEl0ZW1zOiBmdW5jdGlvbiBmZXRjaFZhdWx0SXRlbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkudmF1bHQuZ2V0SXRlbXMoX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpcy5iYWNrZW5kRXJyb3JzLnB1c2gocmVzcG9uc2UubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"mappings":"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","names":["api","Security","createNamespacedHelpers","Categories","CreationTypeSelector","mapState","mapActions","mapGetters","name","components","data","folderId","backendErrors","security","computed","items","state","self","filter","item","category","vault_id","$route","params","id","beforeRouteEnter","to","from","next","document","querySelector","classList","add","beforeRouteLeave","remove","mounted","fetchVaultItems","methods","folderItemsHandler","folderHandler","allItemsHandler","$router","push","triggerBurgerMenu","setItemView","vault","getItems","response","Error","message"],"sourceRoot":"","sources":["/home/kaliuser/test/vaults/frontend/src/views/Vaults/VaultDashboard.vue"],"sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <Categories\n        @folder-clicked=\"folderItemsHandler\"\n        @all-clicked=\"allItemsHandler\">\n    </Categories>\n    <div class=\"logins\" :class=\"{ active: this.getItemView === true }\">\n      <CreationTypeSelector></CreationTypeSelector>\n      <div class=\"logins-container\">\n        <div v-for=\"item in items\" :key=\"item\"\n             class=\"login\"\n             @click=\"this.$router.push({\n             name: 'item',\n             params: {\n               itemId: item.id\n             }\n             })\">\n          <div>\n            <img src=\"@/assets/item_placeholder.png\" alt=\"Placeholder image for a securely stored item.\">\n          </div>\n          <p>{{ item.name.value }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"account\">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {api} from \"../../services/api\";\nimport {Security} from \"../../plugins/Security\";\nimport { createNamespacedHelpers } from 'vuex';\nimport Categories from \"../../components/Category/Categories\";\nimport CreationTypeSelector from \"../../components/Item/CreationTypeSelector\";\n\nconst { mapState } = createNamespacedHelpers(\"user\");\nconst { mapActions, mapGetters } = createNamespacedHelpers(\"app_state\");\n\nexport default {\n  name: \"VaultDashboard\",\n  components: {\n    Categories,\n    CreationTypeSelector\n  },\n  data() {\n    return {\n      folderId: \"\",\n      backendErrors: [],\n      security: new Security()\n    }\n  },\n  computed: {\n    ...mapGetters([\n        \"getItemView\"\n    ]),\n    ...mapState({\n      items(state) {\n        let self = this,\n            items = {};\n\n        if (self.folderId) {\n          items = state.items.filter(item => item.category === self.folderId);\n        } else {\n          items = state.items.filter(item => item.vault_id == self.$route.params.id);\n        }\n\n        return items;\n      }\n    })\n  },\n  beforeRouteEnter(to, from, next) {\n    document.querySelector(\"#app\").classList.add(\"dashboard-view\")\n    next();\n  },\n  beforeRouteLeave(to, from, next) {\n    document.querySelector(\"#app\").classList.remove(\"dashboard-view\")\n    next();\n  },\n  mounted() {\n    this.fetchVaultItems();\n  },\n  methods: {\n    ...mapActions([\n        \"triggerBurgerMenu\",\n        \"setItemView\"\n    ]),\n    folderItemsHandler(id) {\n      this.folderId = id;\n      this.folderHandler();\n    },\n    allItemsHandler() {\n      this.folderId = \"\";\n      this.folderHandler();\n    },\n    folderHandler() {\n      this.$router.push({ name: \"vaultDashboard\", params: { id: this.$route.params.id } });\n\n      this.triggerBurgerMenu();\n      this.setItemView(false);\n    },\n    /**\n     * Requests the user's encrypted vaults.\n     */\n    async fetchVaultItems() {\n      let response = await api.vault.getItems(this.$route.params.id);\n\n      if (response instanceof Error) {\n        this.backendErrors.push(response.message);\n      }\n    }\n  }\n}\n</script>\n"]}]}