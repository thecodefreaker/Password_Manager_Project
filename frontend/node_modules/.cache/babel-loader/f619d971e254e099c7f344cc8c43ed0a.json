{"remainingRequest":"/media/sf_New_Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/media/sf_New_Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/media/sf_New_Folder/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/media/sf_New_Folder/test/vaults/frontend/src/components/Item/Note/NoteForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/sf_New_Folder/test/vaults/frontend/src/components/Item/Note/NoteForm.vue","mtime":1713871927302},{"path":"/media/sf_New_Folder/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/media/sf_New_Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/sf_New_Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/media/sf_New_Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/sf_New_Folder/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL21lZGlhL3NmX05ld19Gb2xkZXIvdGVzdC92YXVsdHMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgRGVsZXRlUHJvbXB0IGZyb20gIi4uLy4uL0RlbGV0ZVByb21wdCI7CmltcG9ydCAqIGFzIFZlZVZhbGlkYXRlIGZyb20gInZlZS12YWxpZGF0ZSI7CmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOwppbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyB9IGZyb20gJ3Z1ZXgnOwoKdmFyIF9jcmVhdGVOYW1lc3BhY2VkSGVscCA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJ1c2VyIiksCiAgICBtYXBTdGF0ZSA9IF9jcmVhdGVOYW1lc3BhY2VkSGVscC5tYXBTdGF0ZTsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAyID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoImFwcF9zdGF0ZSIpLAogICAgbWFwQWN0aW9uc0FwcCA9IF9jcmVhdGVOYW1lc3BhY2VkSGVscDIubWFwQWN0aW9uczsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTm90ZUZvcm0iLAogIHByb3BzOiB7CiAgICBhY3Rpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGFjdGlvbkhhbmRsZXI6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgZGVsZXRlSGFuZGxlcjogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAvLyBSZW5hbWUgdGhlIGNvbXBvbmVudHMgZnJvbSBWZWVWYWxpZGF0ZSBzbyB0aGVyZSBtYXkgYmUgbm8gY29uZmxpY3RzIHdpdGggbmF0aXZlIEhUTUwgZWxlbWVudHMuCiAgICBWZWVWYWxpZGF0ZUZvcm06IFZlZVZhbGlkYXRlLkZvcm0sCiAgICBWZWVWYWxpZGF0ZUZpZWxkOiBWZWVWYWxpZGF0ZS5GaWVsZCwKICAgIERlbGV0ZVByb21wdDogRGVsZXRlUHJvbXB0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3RhTGFiZWw6ICIiLAogICAgICBoZWFkbGluZTogIiIsCiAgICAgIHN1Y2Nlc3M6ICIiLAogICAgICBiYWNrZW5kRXJyb3JzOiBbXSwKICAgICAgc2hvd01vZGFsOiBmYWxzZSwKICAgICAgZGVsZXRlUHJvbXB0VGV4dDogIllvdSBhcmUgYWJvdXQgdG8gZGVsZXRlIHRoaXMgbm90ZS4gVGhpcyBjYW5ub3QgYmUgdW5kb25lLiBBcmUgeW91IHN1cmU/IgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIGNhdGVnb3JpZXM6IGZ1bmN0aW9uIGNhdGVnb3JpZXMoc3RhdGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBzdGF0ZS5jYXRlZ29yaWVzLmZpbHRlcihmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKICAgICAgICByZXR1cm4gY2F0ZWdvcnkudmF1bHRfaWQgPT0gX3RoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgfSk7CiAgICB9LAogICAgbm90ZTogZnVuY3Rpb24gbm90ZShzdGF0ZSkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHJldHVybiBzdGF0ZS5pdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gc2VsZi4kcm91dGUucGFyYW1zLml0ZW1JZDsKICAgICAgfSk7CiAgICB9CiAgfSkpLCB7fSwgewogICAgY2F0ZWdvcnlWYWx1ZTogZnVuY3Rpb24gY2F0ZWdvcnlWYWx1ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMubm90ZSA/IHRoaXMubm90ZS5jYXRlZ29yeSA6ICIiOwogICAgfQogIH0pLAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuc2V0SXRlbVZpZXcodHJ1ZSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuJHByb3BzLmFjdGlvbiA9PT0gImNyZWF0ZSIpIHsKICAgICAgdGhpcy5jdGFMYWJlbCA9ICJDcmVhdGUiOwogICAgICB0aGlzLmhlYWRsaW5lID0gIkNyZWF0ZSBhIG5vdGUhIjsKICAgIH0gZWxzZSBpZiAodGhpcy4kcHJvcHMuYWN0aW9uID09PSAiZWRpdCIpIHsKICAgICAgdGhpcy5jdGFMYWJlbCA9ICJTYXZlIjsKICAgICAgdGhpcy5oZWFkbGluZSA9ICJFZGl0ICIgKyB0aGlzLm5vdGUubmFtZS52YWx1ZTsKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIC8qKgogICAgICogVmFsaWRhdGlvbiBydWxlcyB1c2luZyAneXVwJy4KICAgICAqLwogICAgdmFyIHNjaGVtYSA9IHl1cC5vYmplY3QoewogICAgICBub3RlX25hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgpLmxhYmVsKCJOYW1lIiksCiAgICAgIG5vdGVfZGVzY3JpcHRpb246IHl1cC5zdHJpbmcoKS5sYWJlbCgiRGVzY3JpcHRpb24iKQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBzY2hlbWE6IHNjaGVtYQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnNBcHAoWyJzZXRJdGVtVmlldyJdKSkKfTs="},{"version":3,"mappings":"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","names":["DeletePrompt","VeeValidate","yup","createNamespacedHelpers","mapState","mapActionsApp","mapActions","name","props","action","type","String","required","actionHandler","Function","deleteHandler","default","undefined","components","VeeValidateForm","Form","VeeValidateField","Field","data","ctaLabel","headline","success","backendErrors","showModal","deletePromptText","computed","categories","state","filter","category","vault_id","$route","params","id","note","self","items","find","item","itemId","categoryValue","beforeMount","setItemView","mounted","$props","value","setup","schema","object","note_name","string","label","note_description","methods"],"sourceRoot":"","sources":["/media/sf_New_Folder/test/vaults/frontend/src/components/Item/Note/NoteForm.vue"],"sourcesContent":["<template>\n  <VeeValidateForm :validation-schema=\"schema\" v-slot=\"{ errors, handleSubmit }\" as=\"div\">\n    <form @submit=\"handleSubmit($event, actionHandler)\">\n      <p class=\"back\" @click=\"$router.push({ name: 'vaultDashboard', params: { id: this.$route.params.id } }); this.setItemView(false)\">Back</p>\n      <h1>{{ headline }}</h1>\n\n      <label>\n        <VeeValidateField class=\"categories-select\" v-model=\"categoryValue\" name=\"category\" as=\"select\">\n          <option value=\"\" disabled>Set to folder</option>\n          <option value=\"0\">none</option>\n          <option v-for=\"category in categories\"\n                  :key=\"category.id\"\n                  :value=\"category.id\">\n            {{ category.category_name }}\n          </option>\n        </VeeValidateField>\n      </label>\n\n      <label>\n        <span>Note Name</span>\n        <VeeValidateField name=\"note_name\" type=\"text\" :value=\"note ? note.name.value : ''\" />\n        <p class=\"form-error\">{{ errors.note_name }}</p>\n      </label>\n\n      <label>\n        <span>Description</span>\n        <VeeValidateField name=\"note_description\" as=\"textarea\" :value=\"note ? note.note_description.value : ''\" />\n        <p class=\"form-error\">{{ errors.note_description }}</p>\n      </label>\n\n      <button class=\"btn\">{{ ctaLabel }}</button>\n      <button v-if=\"action === 'edit'\"\n              type=\"button\"\n              class=\"btn delete-vault-cta\"\n              @click=\"showModal = true\">\n        Delete note\n      </button>\n\n      <li class=\"backend-errors\" v-for=\"error in backendErrors\" :key=\"error\">\n        {{ error }}\n      </li>\n\n      <p class=\"backend-success\">{{ success }}</p>\n    </form>\n  </VeeValidateForm>\n  <transition name=\"modal\" v-if=\"action === 'edit'\">\n    <DeletePrompt v-if=\"showModal\"\n                  :prompt-text=\"deletePromptText\"\n                  @deletionConfirmed=\"deleteHandler\"\n                  @deletionCancelled=\"showModal = false\">\n    </DeletePrompt>\n  </transition>\n</template>\n\n<script>\n\nimport DeletePrompt from \"../../DeletePrompt\";\nimport * as VeeValidate from \"vee-validate\";\nimport * as yup from \"yup\";\nimport { createNamespacedHelpers } from 'vuex';\n\nconst { mapState } = createNamespacedHelpers(\"user\");\nconst { mapActions: mapActionsApp } = createNamespacedHelpers(\"app_state\");\n\nexport default {\n  name: \"NoteForm\",\n  props: {\n    action: {\n      type: String,\n      required: true,\n    },\n    actionHandler: {\n      type: Function,\n      required: true\n    },\n    deleteHandler: {\n      type: Function,\n      default: undefined\n    }\n  },\n  components: {\n    // Rename the components from VeeValidate so there may be no conflicts with native HTML elements.\n    VeeValidateForm: VeeValidate.Form,\n    VeeValidateField: VeeValidate.Field,\n    DeletePrompt\n  },\n  data() {\n    return {\n      ctaLabel: \"\",\n      headline: \"\",\n      success: \"\",\n      backendErrors: [],\n      showModal: false,\n      deletePromptText: \"You are about to delete this note. This cannot be undone. Are you sure?\"\n    }\n  },\n  computed: {\n    ...mapState({\n      categories(state) {\n        return state.categories.filter(category => category.vault_id == this.$route.params.id);\n      },\n      note(state) {\n        let self = this;\n\n        return state.items.find(item => item.id == self.$route.params.itemId);\n      }\n    }),\n    categoryValue() {\n      return this.note ? this.note.category : \"\";\n    }\n  },\n  beforeMount() {\n    this.setItemView(true);\n  },\n  mounted() {\n    if (this.$props.action === \"create\") {\n      this.ctaLabel = \"Create\";\n      this.headline = \"Create a note!\";\n    } else if(this.$props.action === \"edit\") {\n      this.ctaLabel = \"Save\";\n      this.headline = \"Edit \" + this.note.name.value;\n    }\n  },\n  setup() {\n    /**\n     * Validation rules using 'yup'.\n     */\n    const schema = yup.object({\n      note_name: yup.string()\n          .required()\n          .label(\"Name\"),\n      note_description: yup.string()\n          .label(\"Description\"),\n    });\n\n    return {\n      schema\n    };\n  },\n  methods: {\n    ...mapActionsApp([\n      \"setItemView\"\n    ])\n  }\n}\n\n</script>\n"]}]}