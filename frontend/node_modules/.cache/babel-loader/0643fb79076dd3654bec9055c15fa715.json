{"remainingRequest":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/kaliuser/test/vaults/frontend/src/views/Registration.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/kaliuser/test/vaults/frontend/src/views/Registration.vue","mtime":1713871927302},{"path":"/home/kaliuser/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUva2FsaXVzZXIvdGVzdC92YXVsdHMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9rYWxpdXNlci90ZXN0L3ZhdWx0cy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICogYXMgVmVlVmFsaWRhdGUgZnJvbSAidmVlLXZhbGlkYXRlIjsKaW1wb3J0ICogYXMgeXVwIGZyb20gInl1cCI7CmltcG9ydCB7IGFwaSB9IGZyb20gIi4uL3NlcnZpY2VzL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0cmF0aW9uIiwKICBjb21wb25lbnRzOiB7CiAgICAvLyBSZW5hbWUgdGhlIGNvbXBvbmVudHMgZnJvbSBWZWVWYWxpZGF0ZSBzbyB0aGVyZSBtYXkgYmUgbm8gY29uZmxpY3RzIHdpdGggbmF0aXZlIEhUTUwgZWxlbWVudHMuCiAgICBWZWVWYWxpZGF0ZUZvcm06IFZlZVZhbGlkYXRlLkZvcm0sCiAgICBWZWVWYWxpZGF0ZUZpZWxkOiBWZWVWYWxpZGF0ZS5GaWVsZAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgLyoqCiAgICAgKiBWYWxpZGF0aW9uIHJ1bGVzIHVzaW5nICd5dXAnLgogICAgICovCiAgICB2YXIgc2NoZW1hID0geXVwLm9iamVjdCh7CiAgICAgIGZpcnN0X25hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgpLmxhYmVsKCJGaXJzdCBuYW1lIiksCiAgICAgIGxhc3RfbmFtZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKCkubGFiZWwoIkxhc3QgbmFtZSIpLAogICAgICB1c2VybmFtZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKCkubGFiZWwoIlVzZXJuYW1lIiksCiAgICAgIGVtYWlsOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoKS5lbWFpbCgpLmxhYmVsKCJFLU1haWwiKSwKICAgICAgbWFzdGVyX3Bhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoKS5tYXRjaGVzKC9eKD89LipbQS1aXSkoPz0uKlthLXpdKSg/PS4qXGQpKD89LipbXkEtWmEtejAtOV0pLnsxNix9JC8sICJUaGUgbWFzdGVyIHBhc3N3b3JkIG11c3QgQ29udGFpbiBhdCBsZWFzdCAxNiBjaGFyYWN0ZXJzLCBvbmUgdXBwZXJjYXNlLCBvbmUgbG93ZXJjYXNlLCBvbmUgbnVtYmVyIGFuZCBvbmUgc3BlY2lhbCBjYXNlIGNoYXJhY3Rlci4iKS5sYWJlbCgiTWFzdGVyIFBhc3N3b3JkIiksCiAgICAgIG1hc3Rlcl9wYXNzd29yZF9jb25maXJtYXRpb246IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgpLm9uZU9mKFt5dXAucmVmKCdtYXN0ZXJfcGFzc3dvcmQnKSwgbnVsbF0sICdQYXNzd29yZHMgbXVzdCBtYXRjaCcpLmxhYmVsKCJNYXN0ZXIgUGFzc3dvcmQgY29uZmlybWF0aW9uIiksCiAgICAgIHRlcm1zX2FuZF9jb25kaXRpb25zOiB5dXAuYm9vbGVhbigpLnJlcXVpcmVkKCkub25lT2YoW3RydWVdLCAiWW91IG11c3QgYWNjZXB0IHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyIpLmxhYmVsKCJUZXJtcyAmIENvbmRpdGlvbnMiKQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBzY2hlbWE6IHNjaGVtYQogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdWNjZXNzOiAiIiwKICAgICAgYmFja2VuZEVycm9yczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIFN1Ym1pdCB0aGUgZm9ybSB0byB0aGUgQVBJLgogICAgICoKICAgICAqIEBwYXJhbSB2YWx1ZXMKICAgICAqIEBwYXJhbSByZXNldEZvcm0KICAgICAqLwogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSh2YWx1ZXMsIF9yZWYpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc2V0Rm9ybSwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVzZXRGb3JtID0gX3JlZi5yZXNldEZvcm07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuYXV0aGVudGljYXRpb24ucmVnaXN0ZXIodmFsdWVzKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5iYWNrZW5kRXJyb3JzLnB1c2gocmVzcG9uc2UucmVzcG9uc2UuZGF0YS5lcnJvcnMpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXNldEZvcm0oKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;AA2DA,OAAO,KAAKA,WAAZ,MAA6B,cAA7B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAAQC,GAAR,QAAkB,iBAAlB;AAEA,eAAe;EACbC,IAAI,EAAE,cADO;EAEbC,UAAU,EAAE;IACV;IACAC,eAAe,EAAEL,WAAW,CAACM,IAFnB;IAGVC,gBAAgB,EAAEP,WAAW,CAACQ;EAHpB,CAFC;EAObC,KAPa,mBAOL;IACN;;;IAGA,IAAMC,MAAK,GAAIT,GAAG,CAACU,MAAJ,CAAW;MACxBC,UAAU,EAAEX,GAAG,CAACY,MAAJ,GACCC,QADD,GAECC,KAFD,CAEO,YAFP,CADY;MAIxBC,SAAS,EAAEf,GAAG,CAACY,MAAJ,GACEC,QADF,GAEEC,KAFF,CAEQ,WAFR,CAJa;MAOxBE,QAAQ,EAAEhB,GAAG,CAACY,MAAJ,GACCC,QADD,GAECC,KAFD,CAEO,UAFP,CAPc;MAUxBG,KAAK,EAAEjB,GAAG,CAACY,MAAJ,GACEC,QADF,GAEEI,KAFF,GAGEH,KAHF,CAGQ,QAHR,CAViB;MAcxBI,eAAe,EAAElB,GAAG,CAACY,MAAJ,GACNC,QADM,GAENM,OAFM,CAGH,0DAHG,EAIH,mIAJG,EAMNL,KANM,CAMA,iBANA,CAdO;MAqBxBM,4BAA4B,EAAEpB,GAAG,CAACY,MAAJ,GACLC,QADK,GAELQ,KAFK,CAEC,CAACrB,GAAG,CAACsB,GAAJ,CAAQ,iBAAR,CAAD,EAA6B,IAA7B,CAFD,EAEqC,sBAFrC,EAGLR,KAHK,CAGC,8BAHD,CArBN;MAyBxBS,oBAAoB,EAAEvB,GAAG,CAACwB,OAAJ,GACjBX,QADiB,GAEjBQ,KAFiB,CAEX,CAAC,IAAD,CAFW,EAEH,0CAFG,EAGjBP,KAHiB,CAGX,oBAHW;IAzBE,CAAX,CAAf;IA+BA,OAAO;MACLL,MAAK,EAALA;IADK,CAAP;EAGD,CA7CY;EA8CbgB,IA9Ca,kBA8CN;IACL,OAAO;MACLC,OAAO,EAAE,EADJ;MAELC,aAAa,EAAE;IAFV,CAAP;EAID,CAnDY;EAoDbC,OAAO,EAAE;IACP;;;;;;IAMMC,UAPC,sBAOUC,MAPV,QAOiC;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAbC,SAAa,QAAbA,SAAa;gBAAA;gBAAA,OACjB9B,GAAG,CAAC+B,cAAJ,CAAmBC,QAAnB,CAA4BH,MAA5B,CADiB;;cAAA;gBAClCI,QADkC;;gBAAA,MAGlCA,QAAO,YAAaC,KAHc;kBAAA;kBAAA;gBAAA;;gBAIpC,KAAI,CAACR,aAAL,CAAmBS,IAAnB,CAAwBF,QAAQ,CAACA,QAAT,CAAkBT,IAAlB,CAAuBY,MAA/C;;gBAJoC;gBAAA;;cAAA;gBAMpCN,SAAS;gBAN2B;gBAAA,OAQ9B,KAAI,CAACO,OAAL,CAAaF,IAAb,CAAkB,QAAlB,CAR8B;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUxC;EAjBO;AApDI,CAAf","names":["VeeValidate","yup","api","name","components","VeeValidateForm","Form","VeeValidateField","Field","setup","schema","object","first_name","string","required","label","last_name","username","email","master_password","matches","master_password_confirmation","oneOf","ref","terms_and_conditions","boolean","data","success","backendErrors","methods","submitForm","values","resetForm","authentication","register","response","Error","push","errors","$router"],"sourceRoot":"","sources":["/home/kaliuser/test/vaults/frontend/src/views/Registration.vue"],"sourcesContent":["<template>\n  <VeeValidateForm :validation-schema=\"schema\" v-slot=\"{ errors, handleSubmit }\" as=\"div\" class=\"register-form form\">\n    <form @submit=\"handleSubmit($event, submitForm)\">\n      <h1>Register an account!</h1>\n      <label>\n        <span>First Name</span>\n        <VeeValidateField name=\"first_name\" type=\"text\" />\n        <p class=\"form-error\">{{ errors.first_name }}</p>\n      </label>\n\n      <label>\n        <span>Last Name</span>\n        <VeeValidateField name=\"last_name\" type=\"text\" />\n        <p class=\"form-error\">{{ errors.last_name }}</p>\n      </label>\n\n      <label>\n        <span>Username</span>\n        <VeeValidateField name=\"username\" type=\"text\" />\n        <p class=\"form-error\">{{ errors.username }}</p>\n      </label>\n\n      <label>\n        <span>E-Mail</span>\n        <VeeValidateField name=\"email\" type=\"email\" />\n        <p class=\"form-error\">{{ errors.email }}</p>\n      </label>\n\n      <label>\n        <span>Master Password</span>\n        <VeeValidateField name=\"master_password\" type=\"password\" />\n        <p class=\"form-error\">{{ errors.master_password }}</p>\n      </label>\n\n      <label>\n        <span>Master Password confirmation</span>\n        <VeeValidateField name=\"master_password_confirmation\" type=\"password\" />\n        <p class=\"form-error\">{{ errors.master_password_confirmation }}</p>\n      </label>\n\n      <div class=\"checkbox\">\n        <VeeValidateField name=\"terms_and_conditions\" id=\"terms_and_conditions\" type=\"checkbox\" :value=\"true\" checked-value=\"true\" unchecked-value=\"false\" />\n        <label for=\"terms_and_conditions\">Terms & Conditions</label>\n        <p class=\"form-error\">{{ errors.terms_and_conditions }}</p>\n      </div>\n\n      <button class=\"btn\">Register</button>\n\n      <li class=\"backend-errors\" v-for=\"error in backendErrors\" :key=\"error\">\n        {{ error }}\n      </li>\n\n      <p class=\"backend-success\">{{ success }}</p>\n    </form>\n  </VeeValidateForm>\n</template>\n\n<script>\n\nimport * as VeeValidate from \"vee-validate\";\nimport * as yup from \"yup\";\nimport {api} from \"../services/api\";\n\nexport default {\n  name: \"Registration\",\n  components: {\n    // Rename the components from VeeValidate so there may be no conflicts with native HTML elements.\n    VeeValidateForm: VeeValidate.Form,\n    VeeValidateField: VeeValidate.Field,\n  },\n  setup() {\n    /**\n     * Validation rules using 'yup'.\n     */\n    const schema = yup.object({\n      first_name: yup.string()\n                  .required()\n                  .label(\"First name\"),\n      last_name: yup.string()\n                  .required()\n                  .label(\"Last name\"),\n      username: yup.string()\n                .required()\n                .label(\"Username\"),\n      email: yup.string()\n              .required()\n              .email()\n              .label(\"E-Mail\"),\n      master_password: yup.string()\n                .required()\n                .matches(\n                    /^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{16,}$/,\n                    \"The master password must Contain at least 16 characters, one uppercase, one lowercase, one number and one special case character.\"\n                )\n                .label(\"Master Password\"),\n      master_password_confirmation: yup.string()\n                              .required()\n                              .oneOf([yup.ref('master_password'), null], 'Passwords must match')\n                              .label(\"Master Password confirmation\"),\n      terms_and_conditions: yup.boolean()\n          .required()\n          .oneOf([true], \"You must accept the terms and conditions\")\n          .label(\"Terms & Conditions\")\n    });\n\n    return {\n      schema\n    };\n  },\n  data() {\n    return {\n      success: \"\",\n      backendErrors: [],\n    }\n  },\n  methods: {\n    /**\n     * Submit the form to the API.\n     *\n     * @param values\n     * @param resetForm\n     */\n    async submitForm(values, { resetForm }) {\n      let response = await api.authentication.register(values);\n\n      if (response instanceof Error) {\n        this.backendErrors.push(response.response.data.errors);\n      } else {\n        resetForm();\n\n        await this.$router.push(\"/login\");\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}