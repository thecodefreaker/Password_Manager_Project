{"remainingRequest":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/kaliuser/test/vaults/frontend/src/components/Category/CreateCategory.vue?vue&type=template&id=39eeefeb","dependencies":[{"path":"/home/kaliuser/test/vaults/frontend/src/components/Category/CreateCategory.vue","mtime":1713871927302},{"path":"/home/kaliuser/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB3aXRoQ3R4IGFzIF93aXRoQ3R4IH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJvdmVybGF5IGNyZWF0ZS1jYXRlZ29yeS1vdmVybGF5Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IFsib25TdWJtaXQiXTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgyIiwgbnVsbCwgIkNyZWF0ZSBhIEZvbGRlciB0byBvcmdhbml6ZSB5b3VyIGl0ZW1zISIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAiRm9sZGVyIE5hbWUiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImZvcm0tZXJyb3IiCn07Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCB7CiAgY2xhc3M6ICJidG4iCn0sICJDcmVhdGUiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogImJhY2tlbmQtc3VjY2VzcyIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9WZWVWYWxpZGF0ZUZpZWxkID0gX3Jlc29sdmVDb21wb25lbnQoIlZlZVZhbGlkYXRlRmllbGQiKTsKCiAgdmFyIF9jb21wb25lbnRfVmVlVmFsaWRhdGVGb3JtID0gX3Jlc29sdmVDb21wb25lbnQoIlZlZVZhbGlkYXRlRm9ybSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgY2xhc3M6ICJleGl0LW92ZXJsYXkiLAogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiBfY3R4LiRlbWl0KCdjbG9zZU92ZXJsYXknKTsKICAgIH0pCiAgfSwgIiDinJYgIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X1ZlZVZhbGlkYXRlRm9ybSwgewogICAgInZhbGlkYXRpb24tc2NoZW1hIjogJHNldHVwLnNjaGVtYSwKICAgIGFzOiAiZGl2IiwKICAgIGNsYXNzOiAiZm9ybSIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgZXJyb3JzID0gX3JlZi5lcnJvcnMsCiAgICAgICAgICBoYW5kbGVTdWJtaXQgPSBfcmVmLmhhbmRsZVN1Ym1pdDsKICAgICAgcmV0dXJuIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJmb3JtIiwgewogICAgICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBoYW5kbGVTdWJtaXQoJGV2ZW50LCAkb3B0aW9ucy5oYW5kbGVGb3JtKTsKICAgICAgICB9CiAgICAgIH0sIFtfaG9pc3RlZF8zLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIG51bGwsIFtfaG9pc3RlZF80LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9WZWVWYWxpZGF0ZUZpZWxkLCB7CiAgICAgICAgbmFtZTogImNhdGVnb3J5X25hbWUiLAogICAgICAgIHR5cGU6ICJ0ZXh0IgogICAgICB9KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIF9ob2lzdGVkXzUsIF90b0Rpc3BsYXlTdHJpbmcoZXJyb3JzLmNhdGVnb3J5X25hbWUpLCAxCiAgICAgIC8qIFRFWFQgKi8KICAgICAgKV0pLCBfaG9pc3RlZF82LCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmJhY2tlbmRFcnJvcnMsIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImxpIiwgewogICAgICAgICAgY2xhc3M6ICJiYWNrZW5kLWVycm9ycyIsCiAgICAgICAgICBrZXk6IGVycm9yCiAgICAgICAgfSwgX3RvRGlzcGxheVN0cmluZyhlcnJvciksIDEKICAgICAgICAvKiBURVhUICovCiAgICAgICAgKTsKICAgICAgfSksIDEyOAogICAgICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICAgICApKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIF9ob2lzdGVkXzcsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuc3VjY2VzcyksIDEKICAgICAgLyogVEVYVCAqLwogICAgICApXSwgNDAKICAgICAgLyogUFJPUFMsIEhZRFJBVEVfRVZFTlRTICovCiAgICAgICwgX2hvaXN0ZWRfMildOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSwgOAogIC8qIFBST1BTICovCiAgLCBbInZhbGlkYXRpb24tc2NoZW1hIl0pXSk7Cn0="},{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;;8BAMLC,oBAAgD,IAAhD,EAAgD,IAAhD,EAAI,yCAAJ,EAA2C;AAAA;AAA3C;;8BAEEA,oBAAwB,MAAxB,EAAwB,IAAxB,EAAM,aAAN,EAAiB;AAAA;AAAjB;;;EAEGD,KAAK,EAAC;;;8BAGXC,oBAAmC,QAAnC,EAAmC;EAA3BD,KAAK,EAAC;AAAqB,CAAnC,EAAoB,QAApB,EAA0B;AAAA;AAA1B;;;EAMGA,KAAK,EAAC;;;;;;;uBAnBfE,oBAsBM,KAtBN,cAsBM,CArBJD,oBAES,QAFT,EAES;IAFDD,KAAK,EAAC,cAEL;IAFqBG,OAAK;MAAA,OAAEC,WAAK,cAAL,CAAF;IAAA;EAE1B,CAFT,EAA4D,KAA5D,CAqBI,EAlBJC,aAiBkBC,0BAjBlB,EAiBkB;IAjBA,qBAAmBC,aAiBnB;IAjB6DC,EAAE,EAAC,KAiBhE;IAjBsER,KAAK,EAAC;EAiB5E,CAjBlB;sBACE;MAAA,IADqDS,MACrD,QADqDA,MACrD;MAAA,IAD6DC,YAC7D,QAD6DA,YAC7D;MAAA,OADyE,CACzET,oBAeO,MAfP,EAeO;QAfAU,QAAM;UAAA,OAAED,YAAY,CAACE,MAAD,EAASC,mBAAT,CAAd;QAAA;MAeN,CAfP,GACEC,YACAb,oBAIQ,OAJR,EAIQ,IAJR,EAIQ,CAHNc,UAGM,EAFNV,aAAqDW,2BAArD,EAAqD;QAAnCC,IAAI,EAAC,eAA8B;QAAdC,IAAI,EAAC;MAAS,CAArD,CAEM,EADNjB,oBAAoD,GAApD,cAAoDkB,iBAA3BV,MAAM,CAACW,aAAoB,CAApD,EAA6C;MAAA;MAA7C,CACM,CAJR,GAMAC,+BAEAnB,oBAEKoB,SAFL,EAEK,IAFL,EAEKC,YAFsCC,mBAEtC,EAFmD,UAAtBC,KAAsB,EAAjB;6BAAvCvB,oBAEK,IAFL,EAEK;UAFDF,KAAK,EAAC,gBAEL;UAFsD0B,GAAG,EAAED;QAE3D,CAFL,mBACKA,MADL,EACU;QAAA;QADV;OAEK,CAFL;;MAAA,IAIAxB,oBAA4C,GAA5C,cAA4CkB,iBAAdK,aAAc,CAA5C,EAAqC;MAAA;MAArC,EAdF;;MAAA,aADyE,CACzE;IAAA;;;;GADF;;EAAA,wBAkBI,CAtBN","names":["class","_createElementVNode","_createElementBlock","onClick","_ctx","_createVNode","_component_VeeValidateForm","$setup","as","errors","handleSubmit","onSubmit","$event","$options","_hoisted_3","_hoisted_4","_component_VeeValidateField","name","type","_toDisplayString","category_name","_hoisted_6","_Fragment","_renderList","$data","error","key"],"sourceRoot":"","sources":["/home/kaliuser/test/vaults/frontend/src/components/Category/CreateCategory.vue"],"sourcesContent":["<template>\n  <div class=\"overlay create-category-overlay\">\n    <button class=\"exit-overlay\" @click=\"$emit('closeOverlay')\">\n      &#10006;\n    </button>\n    <VeeValidateForm :validation-schema=\"schema\" v-slot=\"{ errors, handleSubmit }\" as=\"div\" class=\"form\">\n      <form @submit=\"handleSubmit($event, handleForm)\">\n        <h2>Create a Folder to organize your items!</h2>\n        <label>\n          <span>Folder Name</span>\n          <VeeValidateField name=\"category_name\" type=\"text\" />\n          <p class=\"form-error\">{{ errors.category_name }}</p>\n        </label>\n\n        <button class=\"btn\">Create</button>\n\n        <li class=\"backend-errors\" v-for=\"error in backendErrors\" :key=\"error\">\n          {{ error }}\n        </li>\n\n        <p class=\"backend-success\">{{ success }}</p>\n      </form>\n    </VeeValidateForm>\n  </div>\n</template>\n\n<script>\n\nimport {api} from \"../../services/api\";\nimport * as VeeValidate from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"CreateCategory\",\n  components: {\n    // Rename the components from VeeValidate so there may be no conflicts with native HTML elements.\n    VeeValidateForm: VeeValidate.Form,\n    VeeValidateField: VeeValidate.Field,\n  },\n  data() {\n    return {\n      success: \"\",\n      backendErrors: [],\n    }\n  },\n  setup() {\n    /**\n     * Validation rules using 'yup'.\n     */\n    const schema = yup.object({\n      category_name: yup.string()\n          .required()\n          .label(\"Folder Name\")\n    });\n\n    return {\n      schema\n    };\n  },\n  methods: {\n    /**\n     *\n     * @param values\n     * @param resetForm\n     */\n    async handleForm(values, { resetForm }) {\n      let encryptedValues = api.category.encryptCategory(values);\n\n      await this.submitForm(encryptedValues, resetForm);\n    },\n    async submitForm(values, resetForm) {\n      let vaultId = this.$route.params.id;\n      let response = await api.category.create(values, vaultId);\n\n      if (response instanceof Error) {\n        this.errorHandler(response);\n      } else {\n        resetForm();\n\n        this.$emit(\"closeOverlay\");\n      }\n    },\n    errorHandler(error) {\n      console.log(error)\n      if (error.response.data.registration === false) {\n        this.backendErrors.push(error.response.data.errors)\n      }\n    }\n  }\n}\n</script>\n"]}]}