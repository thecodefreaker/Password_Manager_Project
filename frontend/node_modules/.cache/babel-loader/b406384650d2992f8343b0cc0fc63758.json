{"remainingRequest":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/New Folder/test/vaults/frontend/node_modules/eslint-loader/index.js??ref--14-0!/home/kaliuser/New Folder/test/vaults/frontend/src/services/api/authentication.js","dependencies":[{"path":"/home/kaliuser/New Folder/test/vaults/frontend/src/services/api/authentication.js","mtime":1713871927302},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUva2FsaXVzZXIvTmV3IEZvbGRlci90ZXN0L3ZhdWx0cy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2thbGl1c2VyL05ldyBGb2xkZXIvdGVzdC92YXVsdHMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCBodHRwIGZyb20gIi4uL2h0dHAiOwppbXBvcnQgeyBTZWN1cml0eSB9IGZyb20gIi4uLy4uL3BsdWdpbnMvU2VjdXJpdHkiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uLy4uL3JvdXRlciI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi8uLi9zdG9yZSI7CmltcG9ydCBtaXhpbnMgZnJvbSAiLi4vLi4vcGx1Z2lucy9taXhpbnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZW5kcG9pbnRzOiB7CiAgICBBUEk6ICIvYXV0aGVudGljYXRpb24iLAogICAgUkVHSVNURVI6IGZ1bmN0aW9uIFJFR0lTVEVSKCkgewogICAgICByZXR1cm4gdGhpcy5BUEkgKyAiL3JlZ2lzdGVyIjsKICAgIH0sCiAgICBMT0dJTjogZnVuY3Rpb24gTE9HSU4oKSB7CiAgICAgIHJldHVybiB0aGlzLkFQSSArICIvbG9naW4iOwogICAgfSwKICAgIExPR09VVDogZnVuY3Rpb24gTE9HT1VUKCkgewogICAgICByZXR1cm4gdGhpcy5BUEkgKyAiL2xvZ291dCI7CiAgICB9CiAgfSwKICBzdG9yZTogc3RvcmUsCiAgcm91dGVyOiByb3V0ZXIsCiAgc2VjdXJpdHk6IG5ldyBTZWN1cml0eSgpLAogIGlzT2JqZWN0RW1wdHk6IG1peGlucy5tZXRob2RzLmlzT2JqZWN0RW1wdHksCgogIC8qKgogICAqIFRoZSBtYWluIHJlZ2lzdHJhdGlvbiBtZXRob2QuCiAgICoKICAgKiBAcGFyYW0gdmFsdWVzCiAgICogQHJldHVybnMge1Byb21pc2U8QXhpb3NSZXNwb25zZTxhbnk+fCp8dW5kZWZpbmVkPn0KICAgKi8KICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIodmFsdWVzKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgc2VsZiwgaW5pdCwgaGFuZGxlciwgcmVzZXRNYXN0ZXJQYXNzd29yZCwgY3JlYXRlTWFzdGVyUGFzc3dvcmRBcnJheSwgcmVnaXN0ZXI7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc2VsZiA9IF90aGlzOwogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIEluaXRpYWxpemVzIHRoZSBwcm9jZXNzLgogICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICogQHBhcmFtIHZhbHVlcwogICAgICAgICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEF4aW9zUmVzcG9uc2U8YW55PnwqPn0KICAgICAgICAgICAgICAgKi8KCiAgICAgICAgICAgICAgaW5pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWx1ZXMpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyKHZhbHVlcyk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQuc2VudCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC50MCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgNl1dKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gaW5pdChfeCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogQ3JlYXRlcyB0aGUgZW5jcnlwdGlvbiBrZXkgYW5kIGF1dGhlbnRpY2F0aW9uIGhhc2gsIHBlcnNpc3RzIHRoZSBrZXksIHNldHMgdGhlIHBhc3N3b3JkIHRvIHRoZSBuZXcgdmFsdWUgYW5kIHRyaWdnZXJzIHRoZSByZXF1ZXN0LgogICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICogQHBhcmFtIHZhbHVlcwogICAgICAgICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEF4aW9zUmVzcG9uc2U8YW55Pj59CiAgICAgICAgICAgICAgICovCgoKICAgICAgICAgICAgICBoYW5kbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodmFsdWVzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkZXJpdmVkOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5kZXJpdmVGcm9tTWFzdGVyUGFzc3dvcmQodmFsdWVzLm1hc3Rlcl9wYXNzd29yZCwgdmFsdWVzLmVtYWlsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnN0b3JlLmRpc3BhdGNoKCJ1c2VyL3NldEVuY3J5cHRpb25LZXkiLCBkZXJpdmVkLmVuY3J5cHRpb25LZXkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IHJlc2V0TWFzdGVyUGFzc3dvcmQodmFsdWVzLCBkZXJpdmVkLmF1dGhlbnRpY2F0aW9uSGFzaCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gY3JlYXRlTWFzdGVyUGFzc3dvcmRBcnJheSh2YWx1ZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXIodmFsdWVzKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlcihfeDIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKTsKICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgKiBTZXRzIHRoZSBwYXNzd29yZCAmIHBhc3N3b3JkIGNvbmZpcm1hdGlvbiB0byB0aGUgYXV0aGVudGljYXRpb24gaGFzaC4KICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAqIEBwYXJhbSB2YWx1ZXMKICAgICAgICAgICAgICAgKiBAcGFyYW0gYXV0aGVudGljYXRpb25IYXNoCiAgICAgICAgICAgICAgICovCgoKICAgICAgICAgICAgICByZXNldE1hc3RlclBhc3N3b3JkID0gZnVuY3Rpb24gcmVzZXRNYXN0ZXJQYXNzd29yZCh2YWx1ZXMsIGF1dGhlbnRpY2F0aW9uSGFzaCkgewogICAgICAgICAgICAgICAgdmFsdWVzLm1hc3Rlcl9wYXNzd29yZCA9IGF1dGhlbnRpY2F0aW9uSGFzaC50b1N0cmluZygiaGV4Iik7CiAgICAgICAgICAgICAgICB2YWx1ZXMubWFzdGVyX3Bhc3N3b3JkX2NvbmZpcm1hdGlvbiA9IGF1dGhlbnRpY2F0aW9uSGFzaC50b1N0cmluZygiaGV4Iik7CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogQ3JlYXRlIGEgIm1hc3Rlcl9wYXNzd29yZCIgYXJyYXkgc2luY2UgdGhlIHBhc3N3b3JkIGZpZWxkIGluIHRoZSBiYWNrZW5kIGlzIGEgdHlwZSBvZiAiUmVwZWF0ZWRUeXBlIiwKICAgICAgICAgICAgICAgKiBpbiB3aGljaCB0aGUgdHdvIGZpZWxkcyBhcmUgY2hpbGRyZW4gb2YgdGhlIHBhc3N3b3JkIGZpZWxkLiBJbiB0aGUgZW5kIGRlbGV0aW5nIHRoZSByZW1haW5pbmcgIm1hc3Rlcl9wYXNzd29yZF9jb25maXJtYXRpb24iLgogICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICogQHBhcmFtIHZhbHVlcwogICAgICAgICAgICAgICAqLwoKCiAgICAgICAgICAgICAgY3JlYXRlTWFzdGVyUGFzc3dvcmRBcnJheSA9IGZ1bmN0aW9uIGNyZWF0ZU1hc3RlclBhc3N3b3JkQXJyYXkodmFsdWVzKSB7CiAgICAgICAgICAgICAgICB2YWx1ZXMubWFzdGVyX3Bhc3N3b3JkID0gewogICAgICAgICAgICAgICAgICAicGFzc3dvcmQiOiB2YWx1ZXMubWFzdGVyX3Bhc3N3b3JkLAogICAgICAgICAgICAgICAgICAicGFzc3dvcmRfY29uZmlybWF0aW9uIjogdmFsdWVzLm1hc3Rlcl9wYXNzd29yZF9jb25maXJtYXRpb24KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVzLm1hc3Rlcl9wYXNzd29yZF9jb25maXJtYXRpb247CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogTWFrZXMgdGhlIHJlcXVlc3QgdG8gcmVnaXN0ZXIgYW4gZW5kLXVzZXIuCiAgICAgICAgICAgICAgICovCgoKICAgICAgICAgICAgICByZWdpc3RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHZhbHVlcykgewogICAgICAgICAgICAgICAgICB2YXIgdXJsOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHNlbGYuZW5kcG9pbnRzLlJFR0lTVEVSKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodHRwLnJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybTogdmFsdWVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVnaXN0ZXIoX3gzKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gaW5pdCh2YWx1ZXMpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQuc2VudCk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9LAoKICAvKioKICAgKiBUaGUgbWFpbiBsb2dpbiBtZXRob2QuCiAgICoKICAgKiBAcGFyYW0gdmFsdWVzCiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZHwqfHVuZGVmaW5lZD59CiAgICovCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKHZhbHVlcykgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgIHZhciBzZWxmLCBpbml0LCBoYW5kbGVyLCBsb2dpbiwgc3VjY2Vzc0hhbmRsZXI7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc2VsZiA9IF90aGlzMjsKICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgKiBJbml0aWFsaXplcyB0aGUgcHJvY2Vzcy4KICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAqIEBwYXJhbSB2YWx1ZXMKICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkfCo+fQogICAgICAgICAgICAgICAqLwoKICAgICAgICAgICAgICBpbml0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUodmFsdWVzKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlcih2YWx1ZXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDUuc2VudCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnQwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzAsIDZdXSk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGluaXQoX3g0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogQ3JlYXRlcyB0aGUgZW5jcnlwdGlvbiBrZXkgYW5kIGF1dGhlbnRpY2F0aW9uIGhhc2gsIHBlcnNpc3RzIHRoZSBrZXksIHNldHMgdGhlIHBhc3N3b3JkIHRvIHRoZSBuZXcgdmFsdWUgYW5kIHRyaWdnZXJzIHRoZSByZXF1ZXN0LgogICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICogQHBhcmFtIHZhbHVlcwogICAgICAgICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fQogICAgICAgICAgICAgICAqLwoKCiAgICAgICAgICAgICAgaGFuZGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHZhbHVlcykgewogICAgICAgICAgICAgICAgICB2YXIgaGFzaGVzOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5kZXJpdmVGcm9tTWFzdGVyUGFzc3dvcmQodmFsdWVzLmxvZ2luX21hc3Rlcl9wYXNzd29yZCwgdmFsdWVzLmxvZ2luX2VtYWlsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoZXMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RvcmUuZGlzcGF0Y2goInVzZXIvc2V0RW5jcnlwdGlvbktleSIsIGhhc2hlcy5lbmNyeXB0aW9uS2V5KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMubG9naW5fbWFzdGVyX3Bhc3N3b3JkID0gaGFzaGVzLmF1dGhlbnRpY2F0aW9uSGFzaC50b1N0cmluZygiaGV4Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2dpbih2YWx1ZXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDYuc2VudCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZXIoX3g1KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogTWFrZXMgdGhlIHJlcXVlc3QgdG8gbG9naW4gYW4gZW5kLXVzZXIuCiAgICAgICAgICAgICAgICovCgoKICAgICAgICAgICAgICBsb2dpbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHZhbHVlcykgewogICAgICAgICAgICAgICAgICB2YXIgdXJsLCByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBzZWxmLmVuZHBvaW50cy5MT0dJTigpOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm06IHZhbHVlcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzSGFuZGxlcihyZXNwb25zZSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Ny5zZW50KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbG9naW4oX3g2KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CgogICAgICAgICAgICAgIHN1Y2Nlc3NIYW5kbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIHVzZXI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9IHJlc3BvbnNlLmRhdGEudXNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gSlNPTi5wYXJzZSh1c2VyKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLmlzT2JqZWN0RW1wdHkoc2VsZi5zdG9yZS5nZXR0ZXJzWyJ1c2VyL2dldFVzZXIiXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnN0b3JlLmRpc3BhdGNoKCJ1c2VyL3NldFVzZXIiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaWQiOiB1c2VyLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImZpcnN0TmFtZSI6IHVzZXIuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImxhc3ROYW1lIjogdXNlci5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJlbWFpbCI6IHVzZXIuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidXNlcm5hbWUiOiB1c2VyLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInJvbGVzIjogdXNlci5yb2xlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZWdpc3RlcmVkQXQiOiB1c2VyLnJlZ2lzdGVyZWRBdAogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBzdWNjZXNzSGFuZGxlcihfeDcpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKTsKCiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBpbml0KHZhbHVlcyk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0OS5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU5KTsKICAgIH0pKSgpOwogIH0sCgogIC8qKgogICAqIFRoZSBtYWluIGxvZ291dCBtZXRob2QuCiAgICoKICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkfCp8dW5kZWZpbmVkPn0KICAgKi8KICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgdmFyIHNlbGYsIGluaXQsIGxvZ291dCwgc3VjY2Vzc0hhbmRsZXIsIGVyYXNlTG9jYWxEYXRhOwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzZWxmID0gX3RoaXMzOwogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIEluaXRpYWxpemVzIHRoZSBwcm9jZXNzLgogICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZHwqPn0KICAgICAgICAgICAgICAgKi8KCiAgICAgICAgICAgICAgaW5pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2dvdXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTAuc2VudCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQwID0gX2NvbnRleHQxMFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTAudDApOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMCwgbnVsbCwgW1swLCA2XV0pOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjguYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSgpOwogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIE1ha2VzIHRoZSByZXF1ZXN0IHRvIGxvZ291dCBhbiBlbmQtdXNlci4KICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fQogICAgICAgICAgICAgICAqLwoKCiAgICAgICAgICAgICAgbG9nb3V0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmOSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgICAgICAgICAgICB2YXIgdXJsLCByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gc2VsZi5lbmRwb2ludHMuTE9HT1VUKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybAogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NIYW5kbGVyKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTEuc2VudCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSgpOwogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIERlbGV0ZXMgdGhlIHVzZXIgZGF0YSBmcm9tIHRoZSBzdG9yZS4KICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAqIEBwYXJhbSByZXNwb25zZQogICAgICAgICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fQogICAgICAgICAgICAgICAqLwoKCiAgICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIF9yZWYxMCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5yb3V0ZXIucHVzaCgiL2xvZ2luIik7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJhc2VMb2NhbERhdGEoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBzdWNjZXNzSGFuZGxlcihfeDgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxMC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCk7CgogICAgICAgICAgICAgIGVyYXNlTG9jYWxEYXRhID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmMTEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zdG9yZS5kaXNwYXRjaCgidXNlci9zZXRFbmNyeXB0aW9uS2V5Iiwge30pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RvcmUuZGlzcGF0Y2goInVzZXIvc2V0R2VuZXJhdGVkUGFzc3dvcmQiLCAiIik7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNPYmplY3RFbXB0eShzZWxmLnN0b3JlLmdldHRlcnNbInVzZXIvZ2V0VXNlciJdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zdG9yZS5kaXNwYXRjaCgidXNlci9zZXRVc2VyIiwge30pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmlzT2JqZWN0RW1wdHkoc2VsZi5zdG9yZS5nZXR0ZXJzWyJ1c2VyL2dldFZhdWx0cyJdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnN0b3JlLmRpc3BhdGNoKCJ1c2VyL3NldFZhdWx0cyIsIFtdKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNPYmplY3RFbXB0eShzZWxmLnN0b3JlLmdldHRlcnNbInVzZXIvZ2V0SXRlbXMiXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zdG9yZS5kaXNwYXRjaCgidXNlci9zZXRJdGVtcyIsIFtdKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNPYmplY3RFbXB0eShzZWxmLnN0b3JlLmdldHRlcnNbInVzZXIvZ2V0Q2F0ZWdvcmllcyJdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnN0b3JlLmRpc3BhdGNoKCJ1c2VyL3NldENhdGVnb3JpZXMiLCBbXSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGVyYXNlTG9jYWxEYXRhKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjExLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKTsKCiAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gaW5pdCgpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxNC5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTQpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqCiAgICogSGFzaCB0aGUgbWFzdGVyIHBhc3N3b3JkIGludG8gYW4gZW5jcnlwdGlvbiBrZXkgYW5kIGFuIGF1dGhlbnRpY2F0aW9uIGhhc2guCiAgICoKICAgKiBAcGFyYW0gbWFzdGVyUGFzc3dvcmQKICAgKiBAcGFyYW0gZW1haWwKICAgKiBAcmV0dXJucyBPYmplY3QKICAgKi8KICBkZXJpdmVGcm9tTWFzdGVyUGFzc3dvcmQ6IGZ1bmN0aW9uIGRlcml2ZUZyb21NYXN0ZXJQYXNzd29yZChtYXN0ZXJQYXNzd29yZCwgZW1haWwpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgdmFyIGVuY3J5cHRpb25LZXksIGF1dGhlbnRpY2F0aW9uSGFzaDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNlY3VyaXR5Lmhhc2gobWFzdGVyUGFzc3dvcmQsIGVtYWlsLCAxMDAxMDApOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGVuY3J5cHRpb25LZXkgPSBfY29udGV4dDE1LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNlY3VyaXR5Lmhhc2gobWFzdGVyUGFzc3dvcmQsIGVuY3J5cHRpb25LZXksIDEpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uSGFzaCA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGVuY3J5cHRpb25LZXk6IGVuY3J5cHRpb25LZXksCiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbkhhc2g6IGF1dGhlbnRpY2F0aW9uSGFzaAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"names":["http","Security","router","store","mixins","endpoints","API","REGISTER","LOGIN","LOGOUT","security","isObjectEmpty","methods","register","values","self","init","handler","deriveFromMasterPassword","master_password","email","derived","dispatch","encryptionKey","resetMasterPassword","authenticationHash","createMasterPasswordArray","toString","master_password_confirmation","url","request","method","data","form","login","login_master_password","login_email","hashes","response","successHandler","user","JSON","parse","getters","id","firstName","lastName","username","roles","registeredAt","logout","status","push","eraseLocalData","masterPassword","hash"],"sources":["/home/kaliuser/New Folder/test/vaults/frontend/src/services/api/authentication.js"],"sourcesContent":["import http from \"../http\";\nimport {Security} from \"../../plugins/Security\";\nimport router from \"../../router\";\nimport store from \"../../store\";\nimport mixins from \"../../plugins/mixins\";\n\nexport default {\n    endpoints: {\n        API: \"/authentication\",\n        REGISTER() {\n            return this.API + \"/register\"\n        },\n        LOGIN() {\n            return this.API + \"/login\"\n        },\n        LOGOUT() {\n            return this.API + \"/logout\"\n        }\n    },\n\n    store,\n\n    router,\n\n    security: new Security(),\n\n    isObjectEmpty: mixins.methods.isObjectEmpty,\n\n    /**\n     * The main registration method.\n     *\n     * @param values\n     * @returns {Promise<AxiosResponse<any>|*|undefined>}\n     */\n    async register(values) {\n        let self = this;\n\n        /**\n         * Initializes the process.\n         *\n         * @param values\n         * @returns {Promise<AxiosResponse<any>|*>}\n         */\n        const init = async function(values) {\n            try {\n                return await handler(values);\n            } catch(error) {\n                return error;\n            }\n        };\n\n        /**\n         * Creates the encryption key and authentication hash, persists the key, sets the password to the new value and triggers the request.\n         *\n         * @param values\n         * @returns {Promise<AxiosResponse<any>>}\n         */\n        const handler = async function(values) {\n            let derived = await self.deriveFromMasterPassword(values.master_password, values.email);\n\n            await self.store.dispatch(\"user/setEncryptionKey\", derived.encryptionKey);\n\n            values = resetMasterPassword(values, derived.authenticationHash);\n\n            values = createMasterPasswordArray(values);\n\n            return await register(values);\n        };\n\n        /**\n         * Sets the password & password confirmation to the authentication hash.\n         *\n         * @param values\n         * @param authenticationHash\n         */\n        const resetMasterPassword = function(values, authenticationHash) {\n            values.master_password = authenticationHash.toString(\"hex\");\n            values.master_password_confirmation = authenticationHash.toString(\"hex\")\n\n            return values;\n        };\n\n        /**\n         * Create a \"master_password\" array since the password field in the backend is a type of \"RepeatedType\",\n         * in which the two fields are children of the password field. In the end deleting the remaining \"master_password_confirmation\".\n         *\n         * @param values\n         */\n        const createMasterPasswordArray = function(values) {\n            values.master_password = {\n                \"password\": values.master_password,\n                \"password_confirmation\": values.master_password_confirmation\n            };\n\n            delete values.master_password_confirmation;\n\n            return values;\n        };\n\n        /**\n         * Makes the request to register an end-user.\n         */\n        const register = async function(values) {\n            let url = self.endpoints.REGISTER();\n\n            return await http.request({\n                method: \"post\",\n                url: url,\n                data: {\n                    form: values\n                }\n            });\n        };\n\n        return await init(values);\n    },\n\n    /**\n     * The main login method.\n     *\n     * @param values\n     * @returns {Promise<void|*|undefined>}\n     */\n    async login(values) {\n        let self = this;\n\n        /**\n         * Initializes the process.\n         *\n         * @param values\n         * @returns {Promise<void|*>}\n         */\n        const init = async function(values) {\n            try {\n                return await handler(values);\n            } catch (error) {\n                return error;\n            }\n        };\n\n        /**\n         * Creates the encryption key and authentication hash, persists the key, sets the password to the new value and triggers the request.\n         *\n         * @param values\n         * @returns {Promise<void>}\n         */\n        const handler = async function(values) {\n            let hashes = await self.deriveFromMasterPassword(values.login_master_password, values.login_email);\n\n            await self.store.dispatch(\"user/setEncryptionKey\", hashes.encryptionKey);\n\n            values.login_master_password = hashes.authenticationHash.toString(\"hex\");\n\n            return await login(values);\n        };\n\n        /**\n         * Makes the request to login an end-user.\n         */\n        const login = async function(values) {\n            let url = self.endpoints.LOGIN();\n\n            let response = await http.request({\n                method: \"post\",\n                url: url,\n                data: {\n                    form: values\n                }\n            });\n\n            return await successHandler(response);\n        };\n\n        const successHandler = async function(response) {\n            let user = response.data.user;\n            user = JSON.parse(user);\n\n            if (self.isObjectEmpty(self.store.getters[\"user/getUser\"])) {\n                await self.store.dispatch(\"user/setUser\", {\n                    \"id\": user.id,\n                    \"firstName\": user.firstName,\n                    \"lastName\": user.lastName,\n                    \"email\": user.email,\n                    \"username\": user.username,\n                    \"roles\": user.roles,\n                    \"registeredAt\": user.registeredAt\n                })\n            }\n        }\n\n        return await init(values);\n\n    },\n\n    /**\n     * The main logout method.\n     *\n     * @returns {Promise<void|*|undefined>}\n     */\n    async logout() {\n        let self = this;\n\n        /**\n         * Initializes the process.\n         *\n         * @returns {Promise<void|*>}\n         */\n        const init = async function() {\n            try {\n                return await logout();\n            } catch (error) {\n                return error;\n            }\n        };\n\n        /**\n         * Makes the request to logout an end-user.\n         *\n         * @returns {Promise<void>}\n         */\n        const logout = async function() {\n            let url = self.endpoints.LOGOUT();\n\n            let response = await http.request({\n                method: \"get\",\n                url: url\n            });\n\n            return await successHandler(response);\n        };\n\n        /**\n         * Deletes the user data from the store.\n         *\n         * @param response\n         * @returns {Promise<void>}\n         */\n        const successHandler = async function(response) {\n            if (response.status === 204) {\n                await self.router.push(\"/login\");\n                await eraseLocalData();\n            }\n        };\n\n        const eraseLocalData = async function() {\n            await self.store.dispatch(\"user/setEncryptionKey\", {});\n\n            await self.store.dispatch(\"user/setGeneratedPassword\", \"\");\n\n            if (!self.isObjectEmpty(self.store.getters[\"user/getUser\"])) {\n                await self.store.dispatch(\"user/setUser\", {});\n            }\n\n            if (!self.isObjectEmpty(self.store.getters[\"user/getVaults\"])) {\n                await self.store.dispatch(\"user/setVaults\", []);\n            }\n\n            if (!self.isObjectEmpty(self.store.getters[\"user/getItems\"])) {\n                await self.store.dispatch(\"user/setItems\", []);\n            }\n\n            if (!self.isObjectEmpty(self.store.getters[\"user/getCategories\"])) {\n                await self.store.dispatch(\"user/setCategories\", []);\n            }\n        };\n\n        return await init();\n    },\n\n    /**\n     * Hash the master password into an encryption key and an authentication hash.\n     *\n     * @param masterPassword\n     * @param email\n     * @returns Object\n     */\n    async deriveFromMasterPassword(masterPassword, email) {\n        let encryptionKey = await this.security.hash(masterPassword, email, 100100);\n        let authenticationHash = await this.security.hash(masterPassword, encryptionKey, 1);\n\n        return {\n            encryptionKey,\n            authenticationHash\n        };\n    }\n}\n"],"mappings":"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"}]}