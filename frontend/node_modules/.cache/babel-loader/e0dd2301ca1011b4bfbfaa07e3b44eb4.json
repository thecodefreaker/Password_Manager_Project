{"remainingRequest":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kaliuser/New Folder/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/kaliuser/New Folder/test/vaults/frontend/src/components/Category/Categories.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/kaliuser/New Folder/test/vaults/frontend/src/components/Category/Categories.vue","mtime":1713871927302},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUva2FsaXVzZXIvTmV3IEZvbGRlci90ZXN0L3ZhdWx0cy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2thbGl1c2VyL05ldyBGb2xkZXIvdGVzdC92YXVsdHMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9rYWxpdXNlci9OZXcgRm9sZGVyL3Rlc3QvdmF1bHRzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IENyZWF0ZUNhdGVnb3J5IGZyb20gIi4vQ3JlYXRlQ2F0ZWdvcnkiOwppbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBTZWN1cml0eSB9IGZyb20gIi4uLy4uL3BsdWdpbnMvU2VjdXJpdHkiOwppbXBvcnQgeyBhcGkgfSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9hcGkiOwppbXBvcnQgRGVsZXRlUHJvbXB0IGZyb20gIi4uL0RlbGV0ZVByb21wdCI7Cgp2YXIgX2NyZWF0ZU5hbWVzcGFjZWRIZWxwID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoInVzZXIiKSwKICAgIG1hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwLm1hcFN0YXRlLAogICAgbWFwQWN0aW9ucyA9IF9jcmVhdGVOYW1lc3BhY2VkSGVscC5tYXBBY3Rpb25zLAogICAgbWFwR2V0dGVycyA9IF9jcmVhdGVOYW1lc3BhY2VkSGVscC5tYXBHZXR0ZXJzOwoKdmFyIF9jcmVhdGVOYW1lc3BhY2VkSGVscDIgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiYXBwX3N0YXRlIiksCiAgICBtYXBBY3Rpb25zQXBwID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBBY3Rpb25zOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYXRlZ29yaWVzIiwKICBjb21wb25lbnRzOiB7CiAgICBDcmVhdGVDYXRlZ29yeTogQ3JlYXRlQ2F0ZWdvcnksCiAgICBEZWxldGVQcm9tcHQ6IERlbGV0ZVByb21wdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNyZWF0aW5nOiBCb29sZWFuLAogICAgICBzaG93TW9kYWw6IGZhbHNlLAogICAgICBzZWxlY3RlZENhdGVnb3J5OiAiIiwKICAgICAgYmFja2VuZEVycm9yczogW10sCiAgICAgIHNlY3VyaXR5OiBuZXcgU2VjdXJpdHkoKSwKICAgICAgZGVsZXRlUHJvbXB0VGV4dDogIllvdSBhcmUgYWJvdXQgdG8gZGVsZXRlIHRoaXMgZm9sZGVyIGFuZCBhbGwgdGhlIGl0ZW1zIGl0IGNvbnRhaW5zLiBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuIEFyZSB5b3Ugc3VyZT8iCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgY2F0ZWdvcmllczogZnVuY3Rpb24gY2F0ZWdvcmllcyhzdGF0ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHN0YXRlLmNhdGVnb3JpZXMuZmlsdGVyKGZ1bmN0aW9uIChjYXRlZ29yeSkgewogICAgICAgIHJldHVybiBjYXRlZ29yeS52YXVsdF9pZCA9PSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICB9KTsKICAgIH0KICB9KSksIG1hcEdldHRlcnMoWyJnZXRJdGVtcyJdKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hDYXRlZ29yaWVzKCk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbInNldEFjdGl2ZUNhdGVnb3J5IiwgInJlbW92ZUFjdGl2ZUNhdGVnb3J5Il0pKSwgbWFwQWN0aW9uc0FwcChbInRyaWdnZXJCdXJnZXJNZW51Il0pKSwge30sIHsKICAgIGNhdGVnb3J5SXRlbXNDb3VudDogZnVuY3Rpb24gY2F0ZWdvcnlJdGVtc0NvdW50KGlkKSB7CiAgICAgIHJldHVybiB0aGlzLmdldEl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmNhdGVnb3J5ID09IGlkOwogICAgICB9KS5sZW5ndGg7CiAgICB9LAoKICAgIC8qKgogICAgICogUmVxdWVzdHMgdGhlIHVzZXIncyBlbmNyeXB0ZWQgdmF1bHRzLgogICAgICovCiAgICBmZXRjaENhdGVnb3JpZXM6IGZ1bmN0aW9uIGZldGNoQ2F0ZWdvcmllcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuY2F0ZWdvcnkuZmV0Y2hBbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5iYWNrZW5kRXJyb3JzLnB1c2gocmVzcG9uc2UubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVDYXRlZ29yeTogZnVuY3Rpb24gZGVsZXRlQ2F0ZWdvcnkoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuY2F0ZWdvcnkuZGVsZXRlKGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpczMuYmFja2VuZEVycm9ycy5wdXNoKHJlc3BvbnNlLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dNb2RhbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"mappings":";;;;;;AAgDA,OAAOA,cAAP,MAA2B,kBAA3B;AACA,SAASC,uBAAT,QAAwC,MAAxC;AACA,SAAQC,QAAR,QAAuB,wBAAvB;AACA,SAAQC,GAAR,QAAkB,oBAAlB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;;AAEA,4BAA6CH,uBAAuB,CAAC,MAAD,CAApE;AAAA,IAAQI,QAAR,yBAAQA,QAAR;AAAA,IAAkBC,UAAlB,yBAAkBA,UAAlB;AAAA,IAA8BC,UAA9B,yBAA8BA,UAA9B;;AACA,6BAAsCN,uBAAuB,CAAC,WAAD,CAA7D;AAAA,IAAoBO,aAApB,0BAAQF,UAAR;;AAEA,eAAe;EACbG,IAAI,EAAE,YADO;EAEbC,UAAU,EAAE;IACVV,cAAc,EAAdA,cADU;IAEVI,YAAW,EAAXA;EAFU,CAFC;EAMbO,IANa,kBAMN;IACL,OAAO;MACLC,QAAQ,EAAEC,OADL;MAELC,SAAS,EAAE,KAFN;MAGLC,gBAAgB,EAAE,EAHb;MAILC,aAAa,EAAE,EAJV;MAKLC,QAAQ,EAAE,IAAIf,QAAJ,EALL;MAMLgB,gBAAgB,EAAE;IANb,CAAP;EAQD,CAfY;EAgBbC,QAAQ,kCACHd,QAAQ,CAAC;IACVe,UADU,sBACCC,KADD,EACQ;MAAA;;MAChB,OAAOA,KAAK,CAACD,UAAN,CAAiBE,MAAjB,CAAwB,kBAAO;QAAA,OAAKC,QAAQ,CAACC,QAAT,IAAqB,KAAI,CAACC,MAAL,CAAYC,MAAZ,CAAmBC,EAA7C;MAAA,CAA/B,CAAP;IACF;EAHU,CAAD,CADL,GAMHpB,UAAU,CAAC,CACV,UADU,CAAD,CANP,CAhBK;EA0BbqB,OA1Ba,qBA0BH;IACR,KAAKC,eAAL;EACD,CA5BY;EA6BbC,OAAO,gDACFxB,UAAU,CAAC,CACV,mBADU,EAEV,sBAFU,CAAD,CADR,GAKFE,aAAa,CAAC,CACb,mBADa,CAAD,CALX;IAQLuB,kBARK,8BAQcJ,EARd,EAQkB;MACrB,OAAO,KAAKK,QAAL,CAAcV,MAAd,CAAqB,cAAG;QAAA,OAAKW,IAAI,CAACV,QAAL,IAAiBI,EAAtB;MAAA,CAAxB,EAAkDO,MAAzD;IACD,CAVI;;IAWL;;;IAGML,eAdD,6BAcmB;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACD1B,GAAG,CAACoB,QAAJ,CAAaY,QAAb,EADC;;cAAA;gBAClBC,QADkB;;gBAGtB,IAAIA,QAAO,YAAaC,KAAxB,EAA+B;kBAC7B,MAAI,CAACrB,aAAL,CAAmBsB,IAAnB,CAAwBF,QAAQ,CAACG,OAAjC;gBACF;;cALsB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAMvB,CApBI;IAqBCC,cArBD,0BAqBgBb,EArBhB,EAqBoB;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACFxB,GAAG,CAACoB,QAAJ,CAAakB,MAAb,CAAoBd,EAApB,CADE;;cAAA;gBACnBS,QADmB;;gBAGvB,IAAIA,QAAO,YAAaC,KAAxB,EAA+B;kBAC7B,MAAI,CAACrB,aAAL,CAAmBsB,IAAnB,CAAwBF,QAAQ,CAACG,OAAjC;gBACF,CAFA,MAEO;kBACL,MAAI,CAACzB,SAAL,GAAiB,KAAjB;gBACF;;cAPuB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQzB;EA7BK;AA7BM,CAAf","names":["CreateCategory","createNamespacedHelpers","Security","api","DeletePrompt","mapState","mapActions","mapGetters","mapActionsApp","name","components","data","creating","Boolean","showModal","selectedCategory","backendErrors","security","deletePromptText","computed","categories","state","filter","category","vault_id","$route","params","id","mounted","fetchCategories","methods","categoryItemsCount","getItems","item","length","fetchAll","response","Error","push","message","deleteCategory","delete"],"sourceRoot":"","sources":["/home/kaliuser/New Folder/test/vaults/frontend/src/components/Category/Categories.vue"],"sourcesContent":["<template>\n  <div class=\"categories\">\n    <div class=\"navigation\">\n      <CreateCategory v-if=\"creating === true\"\n                      @closeOverlay=\"creating = false\">\n      </CreateCategory>\n      <a v-if=\"this.isMobile()\"\n         class=\"burger-icon\"\n         @click=\"this.triggerBurgerMenu\">\n        <i class=\"fa fa-bars\"></i>\n      </a>\n      <ul class=\"folders\">\n        <li @click=\"creating = true\">\n          <p>Create folder</p>\n        </li>\n        <li @click=\"$emit('allClicked');\n                    this.removeActiveCategory()\">\n          <p>All items</p>\n        </li>\n        <li v-for=\"category in categories\"\n            :key=\"category\"\n            @click=\"$emit('folderClicked', category.id);\n                    this.setActiveCategory(category.id)\"\n            :class=\"{ active: category.active }\">\n          <span title=\"Delete folder\"\n                :class=\"{ active: category.active }\"\n                @click=\"showModal = true; selectedCategory = category.id\">\n            &#10005;\n          </span>\n          <p>{{ category.category_name }}</p>\n          <span class=\"category-item-count\">\n            {{ categoryItemsCount(category.id) }}\n          </span>\n        </li>\n      </ul>\n    </div>\n    <transition name=\"modal\">\n      <DeletePrompt v-if=\"showModal\"\n                    :prompt-text=\"deletePromptText\"\n                    @deletionConfirmed=\"deleteCategory(selectedCategory)\"\n                    @deletionCancelled=\"showModal = false\">\n      </DeletePrompt>\n    </transition>\n  </div>\n</template>\n\n<script>\n\nimport CreateCategory from \"./CreateCategory\";\nimport { createNamespacedHelpers } from 'vuex';\nimport {Security} from \"../../plugins/Security\";\nimport {api} from \"../../services/api\";\nimport DeletePrompt from \"../DeletePrompt\";\n\nconst { mapState, mapActions, mapGetters } = createNamespacedHelpers(\"user\");\nconst { mapActions: mapActionsApp } = createNamespacedHelpers(\"app_state\");\n\nexport default {\n  name: \"Categories\",\n  components: {\n    CreateCategory,\n    DeletePrompt\n  },\n  data() {\n    return {\n      creating: Boolean,\n      showModal: false,\n      selectedCategory: \"\",\n      backendErrors: [],\n      security: new Security(),\n      deletePromptText: \"You are about to delete this folder and all the items it contains. This cannot be undone. Are you sure?\"\n    }\n  },\n  computed: {\n    ...mapState({\n      categories(state) {\n        return state.categories.filter(category => category.vault_id == this.$route.params.id);\n      }\n    }),\n    ...mapGetters([\n        \"getItems\"\n    ])\n  },\n  mounted() {\n    this.fetchCategories();\n  },\n  methods: {\n    ...mapActions([\n        \"setActiveCategory\",\n        \"removeActiveCategory\"\n    ]),\n    ...mapActionsApp([\n        \"triggerBurgerMenu\"\n    ]),\n    categoryItemsCount(id) {\n      return this.getItems.filter(item => item.category == id).length;\n    },\n    /**\n     * Requests the user's encrypted vaults.\n     */\n    async fetchCategories() {\n      let response = await api.category.fetchAll();\n\n      if (response instanceof Error) {\n        this.backendErrors.push(response.message);\n      }\n    },\n    async deleteCategory(id) {\n      let response = await api.category.delete(id);\n\n      if (response instanceof Error) {\n        this.backendErrors.push(response.message);\n      } else {\n        this.showModal = false;\n      }\n    }\n  }\n}\n</script>\n"]}]}