{"remainingRequest":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/kaliuser/test/vaults/frontend/src/components/Category/CreateCategory.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/kaliuser/test/vaults/frontend/src/components/Category/CreateCategory.vue","mtime":1713871927302},{"path":"/home/kaliuser/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUva2FsaXVzZXIvdGVzdC92YXVsdHMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9rYWxpdXNlci90ZXN0L3ZhdWx0cy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IHsgYXBpIH0gZnJvbSAiLi4vLi4vc2VydmljZXMvYXBpIjsKaW1wb3J0ICogYXMgVmVlVmFsaWRhdGUgZnJvbSAidmVlLXZhbGlkYXRlIjsKaW1wb3J0ICogYXMgeXVwIGZyb20gInl1cCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlQ2F0ZWdvcnkiLAogIGNvbXBvbmVudHM6IHsKICAgIC8vIFJlbmFtZSB0aGUgY29tcG9uZW50cyBmcm9tIFZlZVZhbGlkYXRlIHNvIHRoZXJlIG1heSBiZSBubyBjb25mbGljdHMgd2l0aCBuYXRpdmUgSFRNTCBlbGVtZW50cy4KICAgIFZlZVZhbGlkYXRlRm9ybTogVmVlVmFsaWRhdGUuRm9ybSwKICAgIFZlZVZhbGlkYXRlRmllbGQ6IFZlZVZhbGlkYXRlLkZpZWxkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VjY2VzczogIiIsCiAgICAgIGJhY2tlbmRFcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgLyoqCiAgICAgKiBWYWxpZGF0aW9uIHJ1bGVzIHVzaW5nICd5dXAnLgogICAgICovCiAgICB2YXIgc2NoZW1hID0geXVwLm9iamVjdCh7CiAgICAgIGNhdGVnb3J5X25hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgpLmxhYmVsKCJGb2xkZXIgTmFtZSIpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHNjaGVtYTogc2NoZW1hCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKgogICAgICogQHBhcmFtIHZhbHVlcwogICAgICogQHBhcmFtIHJlc2V0Rm9ybQogICAgICovCiAgICBoYW5kbGVGb3JtOiBmdW5jdGlvbiBoYW5kbGVGb3JtKHZhbHVlcywgX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzZXRGb3JtLCBlbmNyeXB0ZWRWYWx1ZXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVzZXRGb3JtID0gX3JlZi5yZXNldEZvcm07CiAgICAgICAgICAgICAgICBlbmNyeXB0ZWRWYWx1ZXMgPSBhcGkuY2F0ZWdvcnkuZW5jcnlwdENhdGVnb3J5KHZhbHVlcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zdWJtaXRGb3JtKGVuY3J5cHRlZFZhbHVlcywgcmVzZXRGb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0odmFsdWVzLCByZXNldEZvcm0pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdmF1bHRJZCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHZhdWx0SWQgPSBfdGhpczIuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuY2F0ZWdvcnkuY3JlYXRlKHZhbHVlcywgdmF1bHRJZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ySGFuZGxlcihyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICByZXNldEZvcm0oKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kZW1pdCgiY2xvc2VPdmVybGF5Iik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVycm9ySGFuZGxlcjogZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLnJlZ2lzdHJhdGlvbiA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmJhY2tlbmRFcnJvcnMucHVzaChlcnJvci5yZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;AA4BA,SAAQA,GAAR,QAAkB,oBAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,cAA7B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,eAAe;EACbC,IAAI,EAAE,gBADO;EAEbC,UAAU,EAAE;IACV;IACAC,eAAe,EAAEJ,WAAW,CAACK,IAFnB;IAGVC,gBAAgB,EAAEN,WAAW,CAACO;EAHpB,CAFC;EAObC,IAPa,kBAON;IACL,OAAO;MACLC,OAAO,EAAE,EADJ;MAELC,aAAa,EAAE;IAFV,CAAP;EAID,CAZY;EAabC,KAba,mBAaL;IACN;;;IAGA,IAAMC,MAAK,GAAIX,GAAG,CAACY,MAAJ,CAAW;MACxBC,aAAa,EAAEb,GAAG,CAACc,MAAJ,GACVC,QADU,GAEVC,KAFU,CAEJ,aAFI;IADS,CAAX,CAAf;IAMA,OAAO;MACLL,MAAK,EAALA;IADK,CAAP;EAGD,CA1BY;EA2BbM,OAAO,EAAE;IACP;;;;;IAKMC,UANC,sBAMUC,MANV,QAMiC;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAbC,SAAa,QAAbA,SAAa;gBAClCC,eADkC,GAChBvB,GAAG,CAACwB,QAAJ,CAAaC,eAAb,CAA6BJ,MAA7B,CADgB;gBAAA;gBAAA,OAGhC,KAAI,CAACK,UAAL,CAAgBH,eAAhB,EAAiCD,SAAjC,CAHgC;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIvC,CAVM;IAWDI,UAXC,sBAWUL,MAXV,EAWkBC,SAXlB,EAW6B;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAC9BK,OAD8B,GACpB,MAAI,CAACC,MAAL,CAAYC,MAAZ,CAAmBC,EADC;gBAAA;gBAAA,OAEb9B,GAAG,CAACwB,QAAJ,CAAaO,MAAb,CAAoBV,MAApB,EAA4BM,OAA5B,CAFa;;cAAA;gBAE9BK,QAF8B;;gBAIlC,IAAIA,QAAO,YAAaC,KAAxB,EAA+B;kBAC7B,MAAI,CAACC,YAAL,CAAkBF,QAAlB;gBACF,CAFA,MAEO;kBACLV,SAAS;;kBAET,MAAI,CAACa,KAAL,CAAW,cAAX;gBACF;;cAVkC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAWnC,CAtBM;IAuBPD,YAvBO,wBAuBME,KAvBN,EAuBa;MAClBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;;MACA,IAAIA,KAAK,CAACJ,QAAN,CAAevB,IAAf,CAAoB8B,YAApB,KAAqC,KAAzC,EAAgD;QAC9C,KAAK5B,aAAL,CAAmB6B,IAAnB,CAAwBJ,KAAK,CAACJ,QAAN,CAAevB,IAAf,CAAoBgC,MAA5C;MACF;IACF;EA5BO;AA3BI,CAAf","names":["api","VeeValidate","yup","name","components","VeeValidateForm","Form","VeeValidateField","Field","data","success","backendErrors","setup","schema","object","category_name","string","required","label","methods","handleForm","values","resetForm","encryptedValues","category","encryptCategory","submitForm","vaultId","$route","params","id","create","response","Error","errorHandler","$emit","error","console","log","registration","push","errors"],"sourceRoot":"","sources":["/home/kaliuser/test/vaults/frontend/src/components/Category/CreateCategory.vue"],"sourcesContent":["<template>\n  <div class=\"overlay create-category-overlay\">\n    <button class=\"exit-overlay\" @click=\"$emit('closeOverlay')\">\n      &#10006;\n    </button>\n    <VeeValidateForm :validation-schema=\"schema\" v-slot=\"{ errors, handleSubmit }\" as=\"div\" class=\"form\">\n      <form @submit=\"handleSubmit($event, handleForm)\">\n        <h2>Create a Folder to organize your items!</h2>\n        <label>\n          <span>Folder Name</span>\n          <VeeValidateField name=\"category_name\" type=\"text\" />\n          <p class=\"form-error\">{{ errors.category_name }}</p>\n        </label>\n\n        <button class=\"btn\">Create</button>\n\n        <li class=\"backend-errors\" v-for=\"error in backendErrors\" :key=\"error\">\n          {{ error }}\n        </li>\n\n        <p class=\"backend-success\">{{ success }}</p>\n      </form>\n    </VeeValidateForm>\n  </div>\n</template>\n\n<script>\n\nimport {api} from \"../../services/api\";\nimport * as VeeValidate from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"CreateCategory\",\n  components: {\n    // Rename the components from VeeValidate so there may be no conflicts with native HTML elements.\n    VeeValidateForm: VeeValidate.Form,\n    VeeValidateField: VeeValidate.Field,\n  },\n  data() {\n    return {\n      success: \"\",\n      backendErrors: [],\n    }\n  },\n  setup() {\n    /**\n     * Validation rules using 'yup'.\n     */\n    const schema = yup.object({\n      category_name: yup.string()\n          .required()\n          .label(\"Folder Name\")\n    });\n\n    return {\n      schema\n    };\n  },\n  methods: {\n    /**\n     *\n     * @param values\n     * @param resetForm\n     */\n    async handleForm(values, { resetForm }) {\n      let encryptedValues = api.category.encryptCategory(values);\n\n      await this.submitForm(encryptedValues, resetForm);\n    },\n    async submitForm(values, resetForm) {\n      let vaultId = this.$route.params.id;\n      let response = await api.category.create(values, vaultId);\n\n      if (response instanceof Error) {\n        this.errorHandler(response);\n      } else {\n        resetForm();\n\n        this.$emit(\"closeOverlay\");\n      }\n    },\n    errorHandler(error) {\n      console.log(error)\n      if (error.response.data.registration === false) {\n        this.backendErrors.push(error.response.data.errors)\n      }\n    }\n  }\n}\n</script>\n"]}]}