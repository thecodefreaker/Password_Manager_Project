{"remainingRequest":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kaliuser/New Folder/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/kaliuser/New Folder/test/vaults/frontend/src/components/Item/Note/NoteForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/kaliuser/New Folder/test/vaults/frontend/src/components/Item/Note/NoteForm.vue","mtime":1713871927302},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUva2FsaXVzZXIvTmV3IEZvbGRlci90ZXN0L3ZhdWx0cy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBEZWxldGVQcm9tcHQgZnJvbSAiLi4vLi4vRGVsZXRlUHJvbXB0IjsKaW1wb3J0ICogYXMgVmVlVmFsaWRhdGUgZnJvbSAidmVlLXZhbGlkYXRlIjsKaW1wb3J0ICogYXMgeXVwIGZyb20gInl1cCI7CmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAndnVleCc7Cgp2YXIgX2NyZWF0ZU5hbWVzcGFjZWRIZWxwID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoInVzZXIiKSwKICAgIG1hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwLm1hcFN0YXRlOwoKdmFyIF9jcmVhdGVOYW1lc3BhY2VkSGVscDIgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiYXBwX3N0YXRlIiksCiAgICBtYXBBY3Rpb25zQXBwID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBBY3Rpb25zOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJOb3RlRm9ybSIsCiAgcHJvcHM6IHsKICAgIGFjdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgYWN0aW9uSGFuZGxlcjogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBkZWxldGVIYW5kbGVyOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIC8vIFJlbmFtZSB0aGUgY29tcG9uZW50cyBmcm9tIFZlZVZhbGlkYXRlIHNvIHRoZXJlIG1heSBiZSBubyBjb25mbGljdHMgd2l0aCBuYXRpdmUgSFRNTCBlbGVtZW50cy4KICAgIFZlZVZhbGlkYXRlRm9ybTogVmVlVmFsaWRhdGUuRm9ybSwKICAgIFZlZVZhbGlkYXRlRmllbGQ6IFZlZVZhbGlkYXRlLkZpZWxkLAogICAgRGVsZXRlUHJvbXB0OiBEZWxldGVQcm9tcHQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdGFMYWJlbDogIiIsCiAgICAgIGhlYWRsaW5lOiAiIiwKICAgICAgc3VjY2VzczogIiIsCiAgICAgIGJhY2tlbmRFcnJvcnM6IFtdLAogICAgICBzaG93TW9kYWw6IGZhbHNlLAogICAgICBkZWxldGVQcm9tcHRUZXh0OiAiWW91IGFyZSBhYm91dCB0byBkZWxldGUgdGhpcyBub3RlLiBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuIEFyZSB5b3Ugc3VyZT8iCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgY2F0ZWdvcmllczogZnVuY3Rpb24gY2F0ZWdvcmllcyhzdGF0ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHN0YXRlLmNhdGVnb3JpZXMuZmlsdGVyKGZ1bmN0aW9uIChjYXRlZ29yeSkgewogICAgICAgIHJldHVybiBjYXRlZ29yeS52YXVsdF9pZCA9PSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICB9KTsKICAgIH0sCiAgICBub3RlOiBmdW5jdGlvbiBub3RlKHN0YXRlKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgcmV0dXJuIHN0YXRlLml0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBzZWxmLiRyb3V0ZS5wYXJhbXMuaXRlbUlkOwogICAgICB9KTsKICAgIH0KICB9KSksIHt9LCB7CiAgICBjYXRlZ29yeVZhbHVlOiBmdW5jdGlvbiBjYXRlZ29yeVZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy5ub3RlID8gdGhpcy5ub3RlLmNhdGVnb3J5IDogIiI7CiAgICB9CiAgfSksCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5zZXRJdGVtVmlldyh0cnVlKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy4kcHJvcHMuYWN0aW9uID09PSAiY3JlYXRlIikgewogICAgICB0aGlzLmN0YUxhYmVsID0gIkNyZWF0ZSI7CiAgICAgIHRoaXMuaGVhZGxpbmUgPSAiQ3JlYXRlIGEgbm90ZSEiOwogICAgfSBlbHNlIGlmICh0aGlzLiRwcm9wcy5hY3Rpb24gPT09ICJlZGl0IikgewogICAgICB0aGlzLmN0YUxhYmVsID0gIlNhdmUiOwogICAgICB0aGlzLmhlYWRsaW5lID0gIkVkaXQgIiArIHRoaXMubm90ZS5uYW1lLnZhbHVlOwogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgLyoqCiAgICAgKiBWYWxpZGF0aW9uIHJ1bGVzIHVzaW5nICd5dXAnLgogICAgICovCiAgICB2YXIgc2NoZW1hID0geXVwLm9iamVjdCh7CiAgICAgIG5vdGVfbmFtZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKCkubGFiZWwoIk5hbWUiKSwKICAgICAgbm90ZV9kZXNjcmlwdGlvbjogeXVwLnN0cmluZygpLmxhYmVsKCJEZXNjcmlwdGlvbiIpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHNjaGVtYTogc2NoZW1hCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9uc0FwcChbInNldEl0ZW1WaWV3Il0pKQp9Ow=="},{"version":3,"mappings":"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","names":["DeletePrompt","VeeValidate","yup","createNamespacedHelpers","mapState","mapActionsApp","mapActions","name","props","action","type","String","required","actionHandler","Function","deleteHandler","default","undefined","components","VeeValidateForm","Form","VeeValidateField","Field","data","ctaLabel","headline","success","backendErrors","showModal","deletePromptText","computed","categories","state","filter","category","vault_id","$route","params","id","note","self","items","find","item","itemId","categoryValue","beforeMount","setItemView","mounted","$props","value","setup","schema","object","note_name","string","label","note_description","methods"],"sourceRoot":"","sources":["/home/kaliuser/New Folder/test/vaults/frontend/src/components/Item/Note/NoteForm.vue"],"sourcesContent":["<template>\n  <VeeValidateForm :validation-schema=\"schema\" v-slot=\"{ errors, handleSubmit }\" as=\"div\">\n    <form @submit=\"handleSubmit($event, actionHandler)\">\n      <p class=\"back\" @click=\"$router.push({ name: 'vaultDashboard', params: { id: this.$route.params.id } }); this.setItemView(false)\">Back</p>\n      <h1>{{ headline }}</h1>\n\n      <label>\n        <VeeValidateField class=\"categories-select\" v-model=\"categoryValue\" name=\"category\" as=\"select\">\n          <option value=\"\" disabled>Set to folder</option>\n          <option value=\"0\">none</option>\n          <option v-for=\"category in categories\"\n                  :key=\"category.id\"\n                  :value=\"category.id\">\n            {{ category.category_name }}\n          </option>\n        </VeeValidateField>\n      </label>\n\n      <label>\n        <span>Note Name</span>\n        <VeeValidateField name=\"note_name\" type=\"text\" :value=\"note ? note.name.value : ''\" />\n        <p class=\"form-error\">{{ errors.note_name }}</p>\n      </label>\n\n      <label>\n        <span>Description</span>\n        <VeeValidateField name=\"note_description\" as=\"textarea\" :value=\"note ? note.note_description.value : ''\" />\n        <p class=\"form-error\">{{ errors.note_description }}</p>\n      </label>\n\n      <button class=\"btn\">{{ ctaLabel }}</button>\n      <button v-if=\"action === 'edit'\"\n              type=\"button\"\n              class=\"btn delete-vault-cta\"\n              @click=\"showModal = true\">\n        Delete note\n      </button>\n\n      <li class=\"backend-errors\" v-for=\"error in backendErrors\" :key=\"error\">\n        {{ error }}\n      </li>\n\n      <p class=\"backend-success\">{{ success }}</p>\n    </form>\n  </VeeValidateForm>\n  <transition name=\"modal\" v-if=\"action === 'edit'\">\n    <DeletePrompt v-if=\"showModal\"\n                  :prompt-text=\"deletePromptText\"\n                  @deletionConfirmed=\"deleteHandler\"\n                  @deletionCancelled=\"showModal = false\">\n    </DeletePrompt>\n  </transition>\n</template>\n\n<script>\n\nimport DeletePrompt from \"../../DeletePrompt\";\nimport * as VeeValidate from \"vee-validate\";\nimport * as yup from \"yup\";\nimport { createNamespacedHelpers } from 'vuex';\n\nconst { mapState } = createNamespacedHelpers(\"user\");\nconst { mapActions: mapActionsApp } = createNamespacedHelpers(\"app_state\");\n\nexport default {\n  name: \"NoteForm\",\n  props: {\n    action: {\n      type: String,\n      required: true,\n    },\n    actionHandler: {\n      type: Function,\n      required: true\n    },\n    deleteHandler: {\n      type: Function,\n      default: undefined\n    }\n  },\n  components: {\n    // Rename the components from VeeValidate so there may be no conflicts with native HTML elements.\n    VeeValidateForm: VeeValidate.Form,\n    VeeValidateField: VeeValidate.Field,\n    DeletePrompt\n  },\n  data() {\n    return {\n      ctaLabel: \"\",\n      headline: \"\",\n      success: \"\",\n      backendErrors: [],\n      showModal: false,\n      deletePromptText: \"You are about to delete this note. This cannot be undone. Are you sure?\"\n    }\n  },\n  computed: {\n    ...mapState({\n      categories(state) {\n        return state.categories.filter(category => category.vault_id == this.$route.params.id);\n      },\n      note(state) {\n        let self = this;\n\n        return state.items.find(item => item.id == self.$route.params.itemId);\n      }\n    }),\n    categoryValue() {\n      return this.note ? this.note.category : \"\";\n    }\n  },\n  beforeMount() {\n    this.setItemView(true);\n  },\n  mounted() {\n    if (this.$props.action === \"create\") {\n      this.ctaLabel = \"Create\";\n      this.headline = \"Create a note!\";\n    } else if(this.$props.action === \"edit\") {\n      this.ctaLabel = \"Save\";\n      this.headline = \"Edit \" + this.note.name.value;\n    }\n  },\n  setup() {\n    /**\n     * Validation rules using 'yup'.\n     */\n    const schema = yup.object({\n      note_name: yup.string()\n          .required()\n          .label(\"Name\"),\n      note_description: yup.string()\n          .label(\"Description\"),\n    });\n\n    return {\n      schema\n    };\n  },\n  methods: {\n    ...mapActionsApp([\n      \"setItemView\"\n    ])\n  }\n}\n\n</script>\n"]}]}