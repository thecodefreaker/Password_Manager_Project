{"remainingRequest":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js!/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kaliuser/New Folder/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/kaliuser/New Folder/test/vaults/frontend/src/views/Vaults/CreateVault.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/kaliuser/New Folder/test/vaults/frontend/src/views/Vaults/CreateVault.vue","mtime":1713871927302},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/babel.config.js","mtime":1713871927298},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kaliuser/New Folder/test/vaults/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUva2FsaXVzZXIvTmV3IEZvbGRlci90ZXN0L3ZhdWx0cy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2thbGl1c2VyL05ldyBGb2xkZXIvdGVzdC92YXVsdHMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCB7IGFwaSB9IGZyb20gIi4uLy4uL3NlcnZpY2VzL2FwaSI7CmltcG9ydCAqIGFzIFZlZVZhbGlkYXRlIGZyb20gInZlZS12YWxpZGF0ZSI7CmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNyZWF0ZVZhdWx0IiwKICBjb21wb25lbnRzOiB7CiAgICAvLyBSZW5hbWUgdGhlIGNvbXBvbmVudHMgZnJvbSBWZWVWYWxpZGF0ZSBzbyB0aGVyZSBtYXkgYmUgbm8gY29uZmxpY3RzIHdpdGggbmF0aXZlIEhUTUwgZWxlbWVudHMuCiAgICBWZWVWYWxpZGF0ZUZvcm06IFZlZVZhbGlkYXRlLkZvcm0sCiAgICBWZWVWYWxpZGF0ZUZpZWxkOiBWZWVWYWxpZGF0ZS5GaWVsZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1Y2Nlc3M6ICIiLAogICAgICBiYWNrZW5kRXJyb3JzOiBbXQogICAgfTsKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIC8qKgogICAgICogVmFsaWRhdGlvbiBydWxlcyB1c2luZyAneXVwJy4KICAgICAqLwogICAgdmFyIHNjaGVtYSA9IHl1cC5vYmplY3QoewogICAgICB2YXVsdF9uYW1lOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoKS5sYWJlbCgiVmF1bHQgTmFtZSIpLAogICAgICB2YXVsdF9kZXNjcmlwdGlvbjogeXVwLnN0cmluZygpLnJlcXVpcmVkKCkubGFiZWwoIlZhdWx0IERlc2NyaXB0aW9uIikKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc2NoZW1hOiBzY2hlbWEKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqCiAgICAgKiBAcGFyYW0gdmFsdWVzCiAgICAgKiBAcGFyYW0gcmVzZXRGb3JtCiAgICAgKi8KICAgIGhhbmRsZUZvcm06IGZ1bmN0aW9uIGhhbmRsZUZvcm0odmFsdWVzLCBfcmVmKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNldEZvcm0sIGVuY3J5cHRlZFZhbHVlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXNldEZvcm0gPSBfcmVmLnJlc2V0Rm9ybTsKICAgICAgICAgICAgICAgIGVuY3J5cHRlZFZhbHVlcyA9IGFwaS52YXVsdC5lbmNyeXB0VmF1bHQodmFsdWVzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnN1Ym1pdEZvcm0oZW5jcnlwdGVkVmFsdWVzLCByZXNldEZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSh2YWx1ZXMsIHJlc2V0Rm9ybSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS52YXVsdC5jcmVhdGUodmFsdWVzKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JIYW5kbGVyKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHJlc2V0Rm9ybSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiL3ZhdWx0cyIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlcnJvckhhbmRsZXI6IGZ1bmN0aW9uIGVycm9ySGFuZGxlcihlcnJvcikgewogICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5yZWdpc3RyYXRpb24gPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5iYWNrZW5kRXJyb3JzLnB1c2goZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;AAkCA,SAAQA,GAAR,QAAkB,oBAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,cAA7B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,eAAe;EACbC,IAAI,EAAE,aADO;EAEbC,UAAU,EAAE;IACV;IACAC,eAAe,EAAEJ,WAAW,CAACK,IAFnB;IAGVC,gBAAgB,EAAEN,WAAW,CAACO;EAHpB,CAFC;EAObC,IAPa,kBAON;IACL,OAAO;MACLC,OAAO,EAAE,EADJ;MAELC,aAAa,EAAE;IAFV,CAAP;EAID,CAZY;EAabC,KAba,mBAaL;IACN;;;IAGA,IAAMC,MAAK,GAAIX,GAAG,CAACY,MAAJ,CAAW;MACxBC,UAAU,EAAEb,GAAG,CAACc,MAAJ,GACPC,QADO,GAEPC,KAFO,CAED,YAFC,CADY;MAIxBC,iBAAiB,EAAEjB,GAAG,CAACc,MAAJ,GACdC,QADc,GAEdC,KAFc,CAER,mBAFQ;IAJK,CAAX,CAAf;IASA,OAAO;MACLL,MAAK,EAALA;IADK,CAAP;EAGD,CA7BY;EA8BbO,OAAO,EAAE;IACP;;;;;IAKMC,UANC,sBAMUC,MANV,QAMiC;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAbC,SAAa,QAAbA,SAAa;gBAClCC,eADkC,GAChBxB,GAAG,CAACyB,KAAJ,CAAUC,YAAV,CAAuBJ,MAAvB,CADgB;gBAAA;gBAAA,OAGhC,KAAI,CAACK,UAAL,CAAgBH,eAAhB,EAAiCD,SAAjC,CAHgC;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIvC,CAVM;IAWDI,UAXC,sBAWUL,MAXV,EAWkBC,SAXlB,EAW6B;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACbvB,GAAG,CAACyB,KAAJ,CAAUG,MAAV,CAAiBN,MAAjB,CADa;;cAAA;gBAC9BO,QAD8B;;gBAGlC,IAAIA,QAAO,YAAaC,KAAxB,EAA+B;kBAC7B,MAAI,CAACC,YAAL,CAAkBF,QAAlB;gBACF,CAFA,MAEO;kBACLN,SAAS;;kBAET,MAAI,CAACS,OAAL,CAAaC,IAAb,CAAkB,SAAlB;gBACF;;cATkC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUnC,CArBM;IAsBPF,YAtBO,wBAsBMG,KAtBN,EAsBa;MAClB,IAAIA,KAAK,CAACL,QAAN,CAAepB,IAAf,CAAoB0B,YAApB,KAAqC,KAAzC,EAAgD;QAC9C,KAAKxB,aAAL,CAAmBsB,IAAnB,CAAwBC,KAAK,CAACL,QAAN,CAAepB,IAAf,CAAoB2B,MAA5C;MACF;IACF;EA1BO;AA9BI,CAAf","names":["api","VeeValidate","yup","name","components","VeeValidateForm","Form","VeeValidateField","Field","data","success","backendErrors","setup","schema","object","vault_name","string","required","label","vault_description","methods","handleForm","values","resetForm","encryptedValues","vault","encryptVault","submitForm","create","response","Error","errorHandler","$router","push","error","registration","errors"],"sourceRoot":"","sources":["/home/kaliuser/New Folder/test/vaults/frontend/src/views/Vaults/CreateVault.vue"],"sourcesContent":["<template>\n  <div class=\"overlay create-vault\">\n    <button class=\"exit-overlay\" v-on:click=\"$router.go(-1)\">\n      &#10006;\n    </button>\n    <VeeValidateForm :validation-schema=\"schema\" v-slot=\"{ errors, handleSubmit }\" as=\"div\" class=\"form\">\n      <form @submit=\"handleSubmit($event, handleForm)\">\n        <h1>Create a custom vault!</h1>\n        <label>\n          <span>Vault Name</span>\n          <VeeValidateField name=\"vault_name\" type=\"text\" />\n          <p class=\"form-error\">{{ errors.vault_name }}</p>\n        </label>\n\n        <label>\n          <span>Description</span>\n          <VeeValidateField name=\"vault_description\" as=\"textarea\" />\n          <p class=\"form-error\">{{ errors.vault_description }}</p>\n        </label>\n\n        <button class=\"btn\">Create</button>\n\n        <li class=\"backend-errors\" v-for=\"error in backendErrors\" :key=\"error\">\n          {{ error }}\n        </li>\n\n        <p class=\"backend-success\">{{ success }}</p>\n      </form>\n    </VeeValidateForm>\n  </div>\n</template>\n\n<script>\n\nimport {api} from \"../../services/api\";\nimport * as VeeValidate from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"CreateVault\",\n  components: {\n    // Rename the components from VeeValidate so there may be no conflicts with native HTML elements.\n    VeeValidateForm: VeeValidate.Form,\n    VeeValidateField: VeeValidate.Field,\n  },\n  data() {\n    return {\n      success: \"\",\n      backendErrors: [],\n    }\n  },\n  setup() {\n    /**\n     * Validation rules using 'yup'.\n     */\n    const schema = yup.object({\n      vault_name: yup.string()\n          .required()\n          .label(\"Vault Name\"),\n      vault_description: yup.string()\n          .required()\n          .label(\"Vault Description\"),\n    });\n\n    return {\n      schema\n    };\n  },\n  methods: {\n    /**\n     *\n     * @param values\n     * @param resetForm\n     */\n    async handleForm(values, { resetForm }) {\n      let encryptedValues = api.vault.encryptVault(values);\n\n      await this.submitForm(encryptedValues, resetForm);\n    },\n    async submitForm(values, resetForm) {\n      let response = await api.vault.create(values);\n\n      if (response instanceof Error) {\n        this.errorHandler(response);\n      } else {\n        resetForm();\n\n        this.$router.push(\"/vaults\");\n      }\n    },\n    errorHandler(error) {\n      if (error.response.data.registration === false) {\n        this.backendErrors.push(error.response.data.errors)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}